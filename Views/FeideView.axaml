<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:AkademiTrack.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1100" d:DesignHeight="705"
             x:Class="AkademiTrack.Views.FeideView"
             x:DataType="vm:FeideWindowViewModel">

	<UserControl.Styles>
		<!-- Modern TextBox Styles -->
		<Style Selector="TextBox">
			<Setter Property="Padding" Value="16,14"/>
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="Regular"/>
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="CaretBrush" Value="#007AFF"/>
			<Setter Property="Background" Value="#FAFAFA"/>
			<Setter Property="BorderBrush" Value="#E5E5E7"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="MinHeight" Value="48"/>
		</Style>

		<Style Selector="TextBox /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="#FAFAFA"/>
			<Setter Property="BorderBrush" Value="#E5E5E7"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="12"/>
		</Style>

		<Style Selector="TextBox:focus /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#007AFF"/>
			<Setter Property="BorderThickness" Value="2"/>
			<Setter Property="BoxShadow" Value="0 0 0 3 #007AFF20"/>
		</Style>

		<Style Selector="TextBox:focus">
			<Setter Property="Foreground" Value="#1A1A1A"/>
		</Style>

		<Style Selector="TextBox:pointerover /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#C7C7CC"/>
		</Style>

		<Style Selector="TextBox:pointerover">
			<Setter Property="Foreground" Value="#1A1A1A"/>
		</Style>

		<!-- Modern ComboBox Styles -->
		<Style Selector="ComboBox">
			<Setter Property="Padding" Value="16,14"/>
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="Regular"/>
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="PlaceholderForeground" Value="#8E8E93"/>
			<Setter Property="Background" Value="#FAFAFA"/>
			<Setter Property="BorderBrush" Value="#E5E5E7"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="MinHeight" Value="48"/>
		</Style>

		<Style Selector="ComboBox /template/ Border#Background">
			<Setter Property="Background" Value="#FAFAFA"/>
			<Setter Property="BorderBrush" Value="#E5E5E7"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="12"/>
		</Style>

		<Style Selector="ComboBox:focus /template/ Border#Background">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#007AFF"/>
			<Setter Property="BorderThickness" Value="2"/>
			<Setter Property="BoxShadow" Value="0 0 0 3 #007AFF20"/>
		</Style>

		<Style Selector="ComboBox:pointerover /template/ Border#Background">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#C7C7CC"/>
		</Style>

		<Style Selector="ComboBox /template/ Popup > Border">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#E5E5E7"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="BoxShadow" Value="0 8 25 0 #00000015"/>
		</Style>

		<Style Selector="ComboBox /template/ Popup ScrollViewer">
			<Setter Property="Background" Value="White"/>
		</Style>

		<Style Selector="ComboBoxItem">
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="Background" Value="White"/>
			<Setter Property="Padding" Value="16,12"/>
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="MinHeight" Value="44"/>
		</Style>

		<Style Selector="ComboBoxItem /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="Background" Value="White"/>
		</Style>

		<Style Selector="ComboBoxItem:pointerover">
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="Background" Value="#F2F2F7"/>
		</Style>

		<Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#F2F2F7"/>
			<Setter Property="Foreground" Value="#1A1A1A"/>
		</Style>

		<Style Selector="ComboBoxItem:selected">
			<Setter Property="Foreground" Value="#007AFF"/>
			<Setter Property="Background" Value="#E3F2FD"/>
		</Style>

		<Style Selector="ComboBoxItem:selected /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#E3F2FD"/>
			<Setter Property="Foreground" Value="#007AFF"/>
		</Style>

		<Style Selector="ComboBoxItem:selected:pointerover">
			<Setter Property="Foreground" Value="#007AFF"/>
			<Setter Property="Background" Value="#BBDEFB"/>
		</Style>

		<Style Selector="ComboBoxItem:selected:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#BBDEFB"/>
			<Setter Property="Foreground" Value="#007AFF"/>
		</Style>

		<!-- Modern Label Styles -->
		<Style Selector="TextBlock.label">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="#1A1A1A"/>
			<Setter Property="Margin" Value="0,0,0,8"/>
		</Style>

		<Style Selector="TextBlock.helper">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Regular"/>
			<Setter Property="Foreground" Value="#8E8E93"/>
			<Setter Property="Margin" Value="0,4,0,0"/>
		</Style>

		<!-- Modern Primary Button Styles -->
		<Style Selector="Button.primary">
			<Setter Property="Background">
				<Setter.Value>
					<LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
						<GradientStop Color="#007AFF" Offset="0"/>
						<GradientStop Color="#0056CC" Offset="1"/>
					</LinearGradientBrush>
				</Setter.Value>
			</Setter>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Padding" Value="24,14"/>
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="MinHeight" Value="48"/>
		</Style>

		<Style Selector="Button.primary:pointerover /template/ ContentPresenter">
			<Setter Property="Background">
				<Setter.Value>
					<LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
						<GradientStop Color="#0056CC" Offset="0"/>
						<GradientStop Color="#003D99" Offset="1"/>
					</LinearGradientBrush>
				</Setter.Value>
			</Setter>
		</Style>

		<Style Selector="Button.primary:pressed /template/ ContentPresenter">
			<Setter Property="Background">
				<Setter.Value>
					<LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
						<GradientStop Color="#003D99" Offset="0"/>
						<GradientStop Color="#002966" Offset="1"/>
					</LinearGradientBrush>
				</Setter.Value>
			</Setter>
		</Style>

		<Style Selector="Button.primary:disabled /template/ ContentPresenter">
			<Setter Property="Background" Value="#C7C7CC"/>
		</Style>

		<Style Selector="Button.primary:disabled">
			<Setter Property="Foreground" Value="#8E8E93"/>
			<Setter Property="Cursor" Value="Arrow"/>
		</Style>

		<!-- Modern Password Toggle Button -->
		<Style Selector="Button.passwordToggle">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="12"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Width" Value="44"/>
			<Setter Property="Height" Value="44"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.passwordToggle:pointerover">
			<Setter Property="Background" Value="#F2F2F7"/>
		</Style>

		<Style Selector="Button.passwordToggle:pressed">
			<Setter Property="Background" Value="#E5E5EA"/>
		</Style>
	</UserControl.Styles>

	<!-- Full-width split layout -->
	<Grid ColumnDefinitions="1*,1*">
		
		<!-- Left Side - Login Form -->
		<Border Grid.Column="0" Background="White" Padding="0">
			<Grid RowDefinitions="*,Auto">
				
				<!-- Form Content - No ScrollViewer, perfect fit -->
				<StackPanel Grid.Row="0" 
							Margin="50,60,50,30" 
							Spacing="24" 
							MaxWidth="380"
							VerticalAlignment="Center">

					<!-- Header -->
					<StackPanel Spacing="12">
						<TextBlock Text="Velkommen tilbake"
								   FontSize="28"
								   FontWeight="Bold"
								   Foreground="#1A1A1A"/>
						<TextBlock Text="Logg inn med din Feide-konto for Ã¥ fortsette"
								   FontSize="15"
								   FontWeight="Regular"
								   Foreground="#6B7280"
								   TextWrapping="Wrap"/>
					</StackPanel>

					<!-- School Selection -->
					<StackPanel Spacing="8">
						<TextBlock Text="Utdanningsinstitusjon" Classes="label"/>
						<ComboBox Name="SchoolNameComboBox"
								  ItemsSource="{Binding Schools}"
								  SelectedItem="{Binding SchoolName}"
								  PlaceholderText="Velg din skole eller institusjon"
								  HorizontalAlignment="Stretch"
								  MaxDropDownHeight="280"/>
						<TextBlock Text="Velg din skole fra listen over tilgjengelige institusjoner"
								   Classes="helper"/>
					</StackPanel>

					<!-- Username Field -->
					<StackPanel Spacing="8">
						<TextBlock Text="Feide Brukernavn" Classes="label"/>
						<TextBox Name="UsernameTextBox"
								 Watermark="Eksempel: 78abcdef"
								 Text="{Binding FeideUsername}"/>
						<TextBlock Text="Ditt unike Feide brukernavn fra skolen"
								   Classes="helper"/>
					</StackPanel>

					<!-- Password Field -->
					<StackPanel Spacing="8">
						<TextBlock Text="Feide Passord" Classes="label"/>
						<Grid>
							<TextBox Name="PasswordTextBox"
									Watermark="Ditt Feide-passord"
									PasswordChar="{Binding PasswordChar}"
									Text="{Binding FeidePassword}"
									Padding="16,14,60,14"/>

							<Button Name="TogglePasswordButton"
									Classes="passwordToggle"
									HorizontalAlignment="Right"
									VerticalAlignment="Center"
									Margin="0,0,6,0"
									Command="{Binding TogglePasswordCommand}"
									ToolTip.Tip="Vis/skjul passord">
								<Path Name="EyeIcon"
										Fill="#8E8E93"
										Data="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
										Stretch="Uniform"
										Width="20"
										Height="20"/>
							</Button>
						</Grid>
						<TextBlock Text="Passordet ditt lagres kryptert og sikkert"
								   Classes="helper"/>
					</StackPanel>

					<!-- Error Message - Compact -->
					<Border Background="#FFF2F2"
							BorderBrush="#FFB3B3"
							BorderThickness="1"
							CornerRadius="8"
							Padding="12"
							IsVisible="{Binding HasError}"
							MaxHeight="60">
						<StackPanel Orientation="Horizontal" Spacing="8">
							<TextBlock Text="âš " 
									   FontSize="14" 
									   Foreground="#D70015"
									   VerticalAlignment="Top"
									   Margin="0,1,0,0"/>
							<TextBlock Text="{Binding ErrorMessage}"
									   Foreground="#D70015"
									   TextWrapping="Wrap"
									   FontSize="13"
									   LineHeight="18"
									   VerticalAlignment="Top"/>
						</StackPanel>
					</Border>

					<!-- Login Button -->
					<Button Content="{Binding SaveButtonText}"
							Command="{Binding SaveCommand}"
							IsEnabled="{Binding CanSave}"
							Classes="primary"
							HorizontalAlignment="Stretch"
							Margin="0,8,0,0"/>

				</StackPanel>

				<!-- Security Info Footer -->
				<Border Grid.Row="1" 
						Background="#F8FAFF"
						BorderBrush="#E3F2FD"
						BorderThickness="0,1,0,0"
						Padding="50,20">
					<StackPanel Orientation="Horizontal" Spacing="10">
						<Border Background="#007AFF" 
								CornerRadius="10" 
								Width="20" 
								Height="20"
								VerticalAlignment="Center">
							<TextBlock Text="ðŸ”’" 
									   FontSize="10" 
									   HorizontalAlignment="Center" 
									   VerticalAlignment="Center"/>
						</Border>
						<StackPanel VerticalAlignment="Center">
							<TextBlock Text="Sikker pÃ¥logging"
									   FontWeight="SemiBold"
									   FontSize="13"
									   Foreground="#1A1A1A"/>
							<TextBlock Text="Dine data lagres kryptert i macOS Keychain"
									   FontSize="11"
									   Foreground="#6B7280"/>
						</StackPanel>
					</StackPanel>
				</Border>
			</Grid>
		</Border>

		<!-- Right Side - Clean Branding -->
		<Border Grid.Column="1" Background="#F8FAFF">
			
			<Grid>
				<!-- Subtle background elements -->
				<Canvas>
					<Ellipse Width="400" Height="400" Fill="#007AFF08" Canvas.Left="100" Canvas.Top="50"/>
				</Canvas>
				
				<!-- Content -->
				<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="40">
					
					<!-- App Logo - Clean design -->
					<StackPanel Spacing="24" HorizontalAlignment="Center">
						<Border Background="White" 
								CornerRadius="20" 
								Width="100" 
								Height="100"
								BoxShadow="0 4 20 0 #00000015">
							<Image Source="/Assets/AT-Transparrent.png" 
								   Width="60" 
								   Height="60"
								   HorizontalAlignment="Center"
								   VerticalAlignment="Center"/>
						</Border>
						
						<StackPanel Spacing="8" HorizontalAlignment="Center">
							<TextBlock Text="AkademiTrack"
									   FontSize="32"
									   FontWeight="Bold"
									   Foreground="#1A1A1A"
									   HorizontalAlignment="Center"/>
							<TextBlock Text="Automatisk fremmÃ¸teregistrering"
									   FontSize="16"
									   FontWeight="Regular"
									   Foreground="#6B7280"
									   HorizontalAlignment="Center"/>
						</StackPanel>
					</StackPanel>
					
					<!-- Features - Clean list -->
					<StackPanel Spacing="16" MaxWidth="300">
						<StackPanel Orientation="Horizontal" Spacing="12">
							<Border Background="#007AFF" 
									CornerRadius="8" 
									Width="24" 
									Height="24">
								<TextBlock Text="âœ“" 
										   FontSize="12" 
										   FontWeight="Bold"
										   Foreground="White"
										   HorizontalAlignment="Center" 
										   VerticalAlignment="Center"/>
							</Border>
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="Automatisk registrering"
										   FontSize="15"
										   FontWeight="SemiBold"
										   Foreground="#1A1A1A"/>
								<TextBlock Text="Ingen manuell innsats nÃ¸dvendig"
										   FontSize="13"
										   Foreground="#6B7280"/>
							</StackPanel>
						</StackPanel>
						
						<StackPanel Orientation="Horizontal" Spacing="12">
							<Border Background="#34C759" 
									CornerRadius="8" 
									Width="24" 
									Height="24">
								<TextBlock Text="ðŸ”’" 
										   FontSize="12"
										   HorizontalAlignment="Center" 
										   VerticalAlignment="Center"/>
							</Border>
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="Sikker og privat"
										   FontSize="15"
										   FontWeight="SemiBold"
										   Foreground="#1A1A1A"/>
								<TextBlock Text="Kryptert lagring av innloggingsdata"
										   FontSize="13"
										   Foreground="#6B7280"/>
							</StackPanel>
						</StackPanel>
						
						<StackPanel Orientation="Horizontal" Spacing="12">
							<Border Background="#FF9500" 
									CornerRadius="8" 
									Width="24" 
									Height="24">
								<TextBlock Text="âš¡" 
										   FontSize="12"
										   HorizontalAlignment="Center" 
										   VerticalAlignment="Center"/>
							</Border>
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="Rask og pÃ¥litelig"
										   FontSize="15"
										   FontWeight="SemiBold"
										   Foreground="#1A1A1A"/>
								<TextBlock Text="Optimalisert for daglig bruk"
										   FontSize="13"
										   Foreground="#6B7280"/>
							</StackPanel>
						</StackPanel>
					</StackPanel>
					
				</StackPanel>
			</Grid>
		</Border>
		
	</Grid>
</UserControl>