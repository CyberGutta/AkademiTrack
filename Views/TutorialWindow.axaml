<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AkademiTrack.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="500"
        x:Class="AkademiTrack.Views.TutorialWindow"
        x:DataType="vm:TutorialWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="Velkommen til AkademiTrack"
        Background="#F8F9FA"
        Height="500"
        Width="600"
        MinWidth="500"
        MinHeight="400"
        WindowStartupLocation="CenterScreen"
        CanResize="false">

	<Design.DataContext>
		<vm:TutorialWindowViewModel/>
	</Design.DataContext>

	<Window.Styles>
		<Style Selector="Button.primary">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="6"/>
			<Setter Property="Padding" Value="18,10"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="MinWidth" Value="120"/>
			<Setter Property="Template">
				<ControlTemplate>
					<Border Name="PART_Border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            Padding="{TemplateBinding Padding}"
                            BorderThickness="0"
                            BorderBrush="Transparent">
						<ContentPresenter Name="PART_ContentPresenter"
                                        Content="{TemplateBinding Content}"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        TextBlock.Foreground="{TemplateBinding Foreground}"
                                        TextBlock.FontWeight="{TemplateBinding FontWeight}"
                                        TextBlock.FontSize="{TemplateBinding FontSize}"
                                        TextBlock.TextAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Setter>
		</Style>

		<Style Selector="Button.primary:pointerover /template/ Border#PART_Border">
			<Setter Property="Background" Value="#005A9E"/>
		</Style>

		<Style Selector="Button.primary:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="TextBlock.Foreground" Value="White"/>
		</Style>

		<Style Selector="Button.secondary">
			<Setter Property="Background" Value="#6C757D"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="CornerRadius" Value="6"/>
			<Setter Property="Padding" Value="14,8"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="MinWidth" Value="100"/>
			<Setter Property="Template">
				<ControlTemplate>
					<Border Name="PART_Border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            Padding="{TemplateBinding Padding}"
                            BorderThickness="0"
                            BorderBrush="Transparent">
						<ContentPresenter Name="PART_ContentPresenter"
                                        Content="{TemplateBinding Content}"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        TextBlock.Foreground="{TemplateBinding Foreground}"
                                        TextBlock.FontWeight="{TemplateBinding FontWeight}"
                                        TextBlock.FontSize="{TemplateBinding FontSize}"
                                        TextBlock.TextAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Setter>
		</Style>

		<Style Selector="Button.secondary:pointerover /template/ Border#PART_Border">
			<Setter Property="Background" Value="#545B62"/>
		</Style>

		<Style Selector="Button.secondary:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="TextBlock.Foreground" Value="White"/>
		</Style>

		<!-- CheckBox styling with fixed text visibility -->
		<Style Selector="CheckBox">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Foreground" Value="#495057"/>
			<Setter Property="Template">
				<ControlTemplate>
					<Grid ColumnDefinitions="Auto,*">
						<Border Name="PART_CheckBox"
                                Grid.Column="0"
                                Width="18"
                                Height="18"
                                Background="White"
                                BorderBrush="#6C757D"
                                BorderThickness="2"
                                CornerRadius="3"
                                Margin="0,0,8,0"
                                VerticalAlignment="Center">
							<Path Name="PART_CheckMark"
                                  Width="10"
                                  Height="8"
                                  Stretch="Fill"
                                  Data="M 0,3 L 3,6 L 8,1"
                                  Stroke="White"
                                  StrokeThickness="2"
                                  IsVisible="False"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
						</Border>
						<ContentPresenter Name="PART_ContentPresenter"
                                        Grid.Column="1"
                                        Content="{TemplateBinding Content}"
                                        VerticalAlignment="Center"
                                        Foreground="#495057"
                                        TextBlock.FontSize="{TemplateBinding FontSize}"/>
					</Grid>
				</ControlTemplate>
			</Setter>
		</Style>

		<Style Selector="CheckBox:pointerover /template/ Border#PART_CheckBox">
			<Setter Property="BorderBrush" Value="#007ACC"/>
		</Style>

		<Style Selector="CheckBox:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="TextBlock.Foreground" Value="#495057"/>
		</Style>

		<Style Selector="CheckBox:checked /template/ Border#PART_CheckBox">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
		</Style>

		<Style Selector="CheckBox:checked /template/ Path#PART_CheckMark">
			<Setter Property="IsVisible" Value="True"/>
		</Style>

		<Style Selector="CheckBox:checked:pointerover /template/ Border#PART_CheckBox">
			<Setter Property="Background" Value="#005A9E"/>
			<Setter Property="BorderBrush" Value="#005A9E"/>
		</Style>

		<Style Selector="CheckBox:checked:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="#343A40"/>
		</Style>

		<Style Selector="TextBlock.title">
			<Setter Property="FontSize" Value="32"/>
			<Setter Property="FontWeight" Value="Light"/>
			<Setter Property="Foreground" Value="#212529"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
			<Setter Property="TextAlignment" Value="Center"/>
		</Style>

		<Style Selector="TextBlock.subtitle">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="FontWeight" Value="Normal"/>
			<Setter Property="Foreground" Value="#6C757D"/>
			<Setter Property="Margin" Value="0,0,0,24"/>
			<Setter Property="TextAlignment" Value="Center"/>
		</Style>

		<Style Selector="TextBlock.content">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Normal"/>
			<Setter Property="Foreground" Value="#495057"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
		</Style>

		<Style Selector="TextBlock.step-title">
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="#007ACC"/>
			<Setter Property="Margin" Value="0,0,0,8"/>
		</Style>

		<Style Selector="TextBlock.step-content">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Normal"/>
			<Setter Property="Foreground" Value="#495057"/>
			<Setter Property="Margin" Value="0,0,0,16"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
		</Style>
	</Window.Styles>

	<Grid Margin="40,30">
		<ScrollViewer VerticalScrollBarVisibility="Auto">
			<StackPanel Spacing="16">
				<!-- Header -->
				<StackPanel>
					<TextBlock Text="Velkommen til AkademiTrack!"
                              Classes="title"/>

					<TextBlock Text="Automatisk oppmøteregistrering for Akademiet Drammen Sundland"
                              Classes="subtitle"/>
				</StackPanel>

				<!-- Introduction -->
				<Border Background="White"
                       CornerRadius="8"
                       Padding="20"
                       BorderThickness="1"
                       BorderBrush="#E9ECEF">
					<StackPanel>
						<TextBlock Text="Dette programmet automatiserer oppmøteregistrering for STU-timer ved å:"
                                  Classes="content"/>

						<StackPanel Margin="16,12,0,0">
							<TextBlock Text="• Overvåke din timeplan automatisk"
                                      Classes="content"/>
							<TextBlock Text="• Registrere oppmøte når registreringsvinduet åpner"
                                      Classes="content"/>
							<TextBlock Text="• Håndtere innlogging og cookie-behandling automatisk"
                                      Classes="content"/>
							<TextBlock Text="• Gi deg beskjed når registreringer er fullført"
                                      Classes="content"/>
						</StackPanel>
					</StackPanel>
				</Border>

				<!-- How it works -->
				<Border Background="White"
                       CornerRadius="8"
                       Padding="20"
                       BorderThickness="1"
                       BorderBrush="#E9ECEF">
					<StackPanel>
						<TextBlock Text="Slik fungerer det:"
                                  Classes="step-title"/>

						<TextBlock Text="1. Første gang:"
                                  Classes="step-title"
                                  Margin="0,12,0,4"/>
						<TextBlock Text="Programmet åpner en nettleser hvor du logger inn manuelt på iskole.net med dine vanlige påloggingsopplysninger. Dette skjer kun første gang eller hvis cookies utløper."
                                  Classes="step-content"/>

						<TextBlock Text="2. Automatisk overvåking:"
                                  Classes="step-title"/>
						<TextBlock Text="Programmet sjekker kontinuerlig din timeplan for STU-timer og registrerer oppmøte automatisk når registreringsvinduet åpner."
                                  Classes="step-content"/>

						<TextBlock Text="3. Ferdigmelding:"
                                  Classes="step-title"/>
						<TextBlock Text="Programmet får beskjed når alle dagens STU-timer er registrert, og programmet stopper automatisk."
                                  Classes="step-content"/>
					</StackPanel>
				</Border>

				<!-- Important notes -->
				<Border Background="#FFF3CD"
                       CornerRadius="8"
                       Padding="20"
                       BorderThickness="1"
                       BorderBrush="#FFEAA7">
					<StackPanel>
						<TextBlock Text="Viktig informasjon:"
                                  Classes="step-title"
                                  Foreground="#856404"/>

						<StackPanel Margin="0,8,0,0">
							<TextBlock Text="• Programmet lagrer cookies lokalt for å unngå gjentatte innlogginger"
                                      Classes="step-content"
                                      Foreground="#856404"/>
							<TextBlock Text="• Du må ha en aktiv internettforbindelse"
                                      Classes="step-content"
                                      Foreground="#856404"/>
							<TextBlock Text="• Programmet fungerer kun med Akademiet Drammen Sundland sin iskole.net løsning"
                                      Classes="step-content"
                                      Foreground="#856404"/>
						</StackPanel>
					</StackPanel>
				</Border>

				<!-- Checkbox -->
				<StackPanel HorizontalAlignment="Center" Margin="0,12,0,0">
					<CheckBox IsChecked="{Binding DontShowAgain}"
                             Content="Ikke vis denne meldingen igjen"
                             HorizontalAlignment="Center"
                             Margin="0,0,0,16"/>
				</StackPanel>

				<!-- Buttons -->
				<StackPanel Orientation="Horizontal"
                           HorizontalAlignment="Center"
                           Spacing="12">
					<Button Content="Start AkademiTrack"
                           Classes="primary"
                           Command="{Binding ContinueCommand}"/>

					<Button Content="Avslutt"
                           Classes="secondary"
                           Command="{Binding ExitCommand}"/>
				</StackPanel>
			</StackPanel>
		</ScrollViewer>
	</Grid>
</Window>