<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AkademiTrack.ViewModels"
        xmlns:services="using:AkademiTrack.Services"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="700"
        x:Class="AkademiTrack.Views.SettingsWindow"
        x:DataType="vm:SettingsViewModel"
        Icon="/Assets/AT-Transparrent.png"
        Title="Innstillinger - AkademiTrack"
        Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=WindowBackground, Mode=OneWay}"
        Width="900"
        Height="700"
        MinWidth="800"
        MinHeight="650"
        CanResize="True"
        WindowStartupLocation="CenterOwner">
	<Design.DataContext>
		<vm:SettingsViewModel/>
	</Design.DataContext>
	<Window.Styles>
		<!-- Input Field Styles -->
		<Style Selector="TextBox.credential-input">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="CaretBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14,12"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinHeight" Value="44"/>
		</Style>

		<Style Selector="TextBox.credential-input /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
		</Style>

		<Style Selector="TextBox.credential-input:pointerover /template/ Border#PART_BorderElement">
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
		</Style>

		<Style Selector="TextBox.credential-input:focus /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="2"/>
		</Style>

		<!-- Password Toggle Button -->
		<Style Selector="Button.passwordToggle">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="8"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Width" Value="36"/>
			<Setter Property="Height" Value="36"/>
		</Style>

		<Style Selector="Button.passwordToggle:pointerover">
			<Setter Property="Background" Value="#F0F0F0"/>
		</Style>

		<Style Selector="Button.passwordToggle:pressed">
			<Setter Property="Background" Value="#E0E0E0"/>
		</Style>

		<!-- Category Tab Button Style -->
		<Style Selector="Button.category-tab">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="Padding" Value="16,12"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="Margin" Value="0,0,0,6"/>
		</Style>

		<Style Selector="Button.category-tab /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.category-tab:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
		</Style>

		<Style Selector="Button.category-tab:pointerover">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="Button.category-tab.selected">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<Style Selector="Button.category-tab.selected /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#007ACC"/>
		</Style>

		<Style Selector="Button.category-tab.selected:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#005A9E"/>
		</Style>

		<!-- Settings Button Style -->
		<Style Selector="Button.settings-action">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="16,10"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="HorizontalAlignment" Value="Left"/>
		</Style>

		<Style Selector="Button.settings-action /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.settings-action:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#005A9E"/>
		</Style>

		<!-- Toggle Button Style -->
		<Style Selector="Button.toggle-button">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="16,10"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="HorizontalAlignment" Value="Left"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled">
			<Setter Property="Background" Value="#DC3545"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#DC3545"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#C82333"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled">
			<Setter Property="Background" Value="#28A745"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#28A745"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#218838"/>
		</Style>

		<!-- Cancel/Close Button Style -->
		<Style Selector="Button.cancel">
			<Setter Property="Background" Value="#6C757D"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="24,12"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinWidth" Value="110"/>
		</Style>
		<Style Selector="Button.cancel:pointerover">
			<Setter Property="Background" Value="#5A6268"/>
		</Style>

		<Style Selector="Button.cancel /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#6C757D"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.cancel:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#5A6268"/>
		</Style>

		<!-- Section Headers -->
		<Style Selector="TextBlock.section-header">
			<Setter Property="FontSize" Value="20"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Margin" Value="0,0,0,20"/>
		</Style>

		<!-- Setting Item Headers -->
		<Style Selector="TextBlock.setting-title">
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Margin" Value="0,0,0,6"/>
		</Style>

		<!-- Setting Descriptions -->
		<Style Selector="TextBlock.setting-description">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
			<Setter Property="LineHeight" Value="20"/>
		</Style>

		<!-- Compact Setting Description -->
		<Style Selector="TextBlock.setting-description-compact">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="Margin" Value="0,0,0,8"/>
			<Setter Property="LineHeight" Value="18"/>
		</Style>

		<!-- Info Panel Style -->
		<Style Selector="Border.info-panel">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14"/>
		</Style>

		<!-- Compact Info Panel -->
		<Style Selector="Border.info-panel-compact">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="12"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
		</Style>

		<!-- Warning Panel Style -->
		<Style Selector="Border.warning-panel">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#FF9800"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14"/>
		</Style>

		<!-- Compact Warning Panel -->
		<Style Selector="Border.warning-panel-compact">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#FF9800"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="12"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
		</Style>

		<!-- Setting Item Container -->
		<Style Selector="Border.setting-item">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Margin" Value="0,0,0,24"/>
		</Style>

		<!-- Compact Setting Item for Login/Automation sections -->
		<Style Selector="Border.setting-item-compact">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Margin" Value="0,0,0,18"/>
		</Style>

		<!-- Setting Card Style -->
		<Style Selector="Border.setting-card">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="10"/>
			<Setter Property="Padding" Value="16"/>
			<Setter Property="Margin" Value="0,0,0,16"/>
		</Style>

		<!-- Log Entry Styles -->
		<Style Selector="TextBlock.log-entry">
			<Setter Property="FontFamily" Value="Consolas,Monaco,monospace"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Padding" Value="6,3"/>
		</Style>
		<Style Selector="TextBlock.log-entry.INFO">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>
		<Style Selector="TextBlock.log-entry.SUCCESS">
			<Setter Property="Foreground" Value="#28A745"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>
		<Style Selector="TextBlock.log-entry.ERROR">
			<Setter Property="Foreground" Value="#DC3545"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>
		<Style Selector="TextBlock.log-entry.DEBUG">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="FontStyle" Value="Italic"/>
		</Style>
		<Style Selector="Button.link-button">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Foreground" Value="#1E40AF" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Cursor" Value="Hand" />
		</Style>

		<Style Selector="Button.link-button:pointerover">
			<Setter Property="Foreground" Value="#1E3A8A" />
		</Style>

		<Style Selector="Button.link-button /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Foreground" Value="#0066CC" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="HorizontalAlignment" Value="Left" />
			<Setter Property="Cursor" Value="Hand" />
		</Style>

		<Style Selector="Button.link:pointerover /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.email-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.email-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.email-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.email-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>

		<Style Selector="Button.privacypolicy-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.privacypolicy-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.privacypolicy-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.privacypolicy-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>

		<Style Selector="Button.termsofuse-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.termsofuse-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.termsofuse-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.termsofuse-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>		

		<!-- Icon Styles for Navigation -->
		<Style Selector="TextBlock.nav-icon">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="Margin" Value="0,0,10,0"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
		</Style>

	</Window.Styles>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="240"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<!-- Left Sidebar - Navigation -->
		<Border Grid.Column="0"
				Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
				BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
				BorderThickness="0,0,1.5,0"
				Padding="20,24">
			<StackPanel Spacing="4">
				<TextBlock Text="Innstillinger"
						   FontSize="22"
						   FontWeight="Bold"
						   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
						   Margin="8,0,0,28"/>

				<Button x:Name="LoginButton" Classes="category-tab selected" Tag="login">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ”‘" Classes="nav-icon"/>
						<TextBlock Text="Innlogging" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>

				<Button x:Name="AutomationButton" Classes="category-tab" Tag="automation">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="âš¡" Classes="nav-icon"/>
						<TextBlock Text="Automatisering" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>

				<Button x:Name="SystemButton" Classes="category-tab" Tag="system">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ’»" Classes="nav-icon"/>
						<TextBlock Text="System" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>

				<Button x:Name="AdvancedButton" Classes="category-tab" Tag="advanced">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="âš™ï¸" Classes="nav-icon"/>
						<TextBlock Text="Avansert" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>

				<Button x:Name="UpdatesButton" Classes="category-tab" Tag="updates">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ”„" Classes="nav-icon"/>
						<TextBlock Text="Oppdateringer" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>

				<Button x:Name="AboutButton" Classes="category-tab" Tag="about">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="â„¹ï¸" Classes="nav-icon"/>
						<TextBlock Text="Om" VerticalAlignment="Center"/>
					</StackPanel>
				</Button>
			</StackPanel>
		</Border>

		<!-- Right Content Area -->
		<Grid Grid.Column="1">
			<Grid.RowDefinitions>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Content ScrollViewer -->
			<ScrollViewer Grid.Row="0"
						  VerticalScrollBarVisibility="Auto"
						  HorizontalScrollBarVisibility="Disabled"
						  Padding="24,20,24,80">
				<StackPanel Spacing="16" HorizontalAlignment="Stretch" MaxWidth="800">
					<!-- Login Category -->
					<StackPanel x:Name="LoginSection" Spacing="12">
						<TextBlock Text="Innloggingsinformasjon" Classes="section-header" Margin="0,0,0,12"/>

						<Border Classes="warning-panel-compact">
							<StackPanel Spacing="6">
								<TextBlock Text="ðŸ”’ Sikkerhetsinformasjon"
										   FontWeight="SemiBold"
										   FontSize="13"
										   Foreground="#FF9800"/>
								<TextBlock Text="Dine innloggingsopplysninger blir automatisk kryptert og lagret sikkert pÃ¥ din datamaskin."
										   FontSize="12"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="18"/>
							</StackPanel>
						</Border>

						<!-- School Name Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Skolenavn" Classes="setting-title"/>
								<TextBlock Text="Navnet pÃ¥ din skole som det vises i FEIDE-organisasjonsvalget"
										   Classes="setting-description-compact"/>
								<TextBox Text="{Binding SchoolName}"
										 Classes="credential-input"
										 Watermark="Akademiet Drammen AS"/>
							</StackPanel>
						</Border>

						<!-- Email Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Brukernavn" Classes="setting-title"/>
								<TextBlock Text="Ditt brukernavn for FEIDE-innlogging"
										   Classes="setting-description-compact"/>
								<TextBox Text="{Binding LoginEmail}"
										 Classes="credential-input"
										 Watermark="F.eks: 78abcdef"/>
							</StackPanel>
						</Border>

						<!-- Password Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Passord" Classes="setting-title"/>
								<TextBlock Text="Ditt passord for FEIDE-innlogging"
										   Classes="setting-description-compact"/>
								<Grid>
									<TextBox Name="PasswordTextBox"
											 Text="{Binding LoginPassword}"
											 Classes="credential-input"
											 PasswordChar="â€¢"
											 Watermark="Ditt passord"
											 Padding="14,12,48,12"/>

									<Button Name="TogglePasswordButton"
											Classes="passwordToggle"
											HorizontalAlignment="Right"
											VerticalAlignment="Center"
											Margin="0,0,8,0"
											Click="TogglePasswordVisibility"
											ToolTip.Tip="Vis/skjul passord">
										<Path Name="EyeIcon"
											  Fill="#666666"
											  Data="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
											  Stretch="Uniform"
											  Width="20"
											  Height="20"/>
									</Button>
								</Grid>
							</StackPanel>
						</Border>
					</StackPanel>

					<!-- Automation Category -->
					<StackPanel x:Name="AutomationSection" Spacing="12" IsVisible="False">
						<TextBlock Text="Automatisering" Classes="section-header" Margin="0,0,0,12"/>

						<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
								BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
								BorderThickness="1"
								CornerRadius="10"
								Padding="16"
								Margin="0,0,0,12">
							<StackPanel Spacing="10">
								<TextBlock Text="Start automatisering ved oppstart"
										   FontSize="15"
										   FontWeight="SemiBold"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
								<TextBlock FontSize="13"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="19"
										   MaxWidth="750">
									<Run Text="Automatiseringen starter automatisk nÃ¥r programmet Ã¥pnes."/>
									<LineBreak/>
									<Run Text="Perfekt for Ã¥ aldri glemme Ã¥ registrere STU-timer."/>
								</TextBlock>
								<Button Content="{Binding AutoStartAutomation, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
										Classes="toggle-button"
										Classes.enabled="{Binding AutoStartAutomation}"
										Classes.disabled="{Binding !AutoStartAutomation}"
										Command="{Binding ToggleAutoStartAutomationCommand}"/>
							</StackPanel>
						</Border>

						<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
								BorderBrush="#007ACC"
								BorderThickness="1.5"
								CornerRadius="8"
								Padding="14"
								Margin="0">
							<StackPanel Spacing="7">
								<TextBlock Text="ðŸ’¡ Om automatisering"
										   FontWeight="SemiBold"
										   FontSize="14"
										   Foreground="#007ACC"/>
								<TextBlock FontSize="13"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="19"
										   MaxWidth="750">
									<Run Text="NÃ¥r aktivert, vil programmet automatisk registrere din fremmÃ¸te"/>
									<LineBreak/>
									<Run Text="hver dag. Du kan alltid pause eller stoppe automatiseringen"/>
									<LineBreak/>
									<Run Text="fra hovedvinduet."/>
								</TextBlock>
							</StackPanel>
						</Border>
					</StackPanel>

					<!-- System Category -->
					<StackPanel x:Name="SystemSection" Spacing="16" IsVisible="False">
						<TextBlock Text="Systemintegrasjon" Classes="section-header"/>

						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Ã…pne appen automatisk ved oppstart" Classes="setting-title"/>
								<TextBlock Text="Automatisk start av AkademiTrack nÃ¥r datamaskinen starter opp."
										   Classes="setting-description"/>
								<Button Content="{Binding StartWithSystem, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
										Classes="toggle-button"
										Classes.enabled="{Binding StartWithSystem}"
										Classes.disabled="{Binding !StartWithSystem}"
										Command="{Binding ToggleAutoStartCommand}"/>
							</StackPanel>
						</Border>

						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Start minimert til systemstatusfeltet" Classes="setting-title"/>
								<TextBlock Classes="setting-description">
									<Run Text="Start applikasjonen minimert i systemstatusfeltet nÃ¥r datamaskinen starter."/>
									<LineBreak/>
									<Run Text="Krever at 'Ã…pne appen automatisk ved oppstart' er aktivert."/>
								</TextBlock>
								<Button Content="{Binding StartMinimized, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
										Classes="toggle-button"
										Classes.enabled="{Binding StartMinimized}"
										Classes.disabled="{Binding !StartMinimized}"
										Command="{Binding ToggleStartMinimizedCommand}"
										IsEnabled="{Binding StartWithSystem}"/>
							</StackPanel>
						</Border>

						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Programfiler" Classes="setting-title"/>
								<TextBlock Text="Tilgang til programmappen der cookies og konfigurasjonsfiler lagres."
										   Classes="setting-description"/>
								<Button Content="Ã…pne Programmappe"
										Classes="settings-action"
										Command="{Binding OpenProgramFolderCommand}"/>
							</StackPanel>
						</Border>
					</StackPanel>

					<!-- Advanced Category -->
					<StackPanel x:Name="AdvancedSection" Spacing="16" IsVisible="False">
						<TextBlock Text="Avanserte innstillinger" Classes="section-header"/>

						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Aktivitetslogg" Classes="setting-title"/>
								<TextBlock Text="Vis teknisk aktivitetslogg for feilsÃ¸king og diagnostikk."
										   Classes="setting-description"/>
								<Button Content="{Binding ShowActivityLog, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Vis logg|Skjul logg'}"
										Classes="settings-action"
										Command="{Binding ToggleActivityLogCommand}"/>
							</StackPanel>
						</Border>

						<!-- Activity Log Panel -->
						<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
								BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
								BorderThickness="1"
								CornerRadius="10"
								Padding="20"
								IsVisible="{Binding ShowActivityLog}">
							<Grid>
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto"/>
									<RowDefinition Height="Auto"/>
								</Grid.RowDefinitions>

								<Grid Grid.Row="0" Margin="0,0,0,16">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="*"/>
										<ColumnDefinition Width="Auto"/>
									</Grid.ColumnDefinitions>
									<TextBlock Grid.Column="0"
											   Text="Aktivitetslogg"
											   FontWeight="SemiBold"
											   FontSize="16"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									<Button Grid.Column="1"
											Content="TÃ¸m logg"
											Classes="settings-action"
											Command="{Binding ClearLogsCommand}"
											Padding="14,10"
											MinWidth="100"/>
								</Grid>

								<Border Grid.Row="1"
									Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
									BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
									BorderThickness="1"
									CornerRadius="8"
									Height="250"
									ClipToBounds="True">
									<ScrollViewer VerticalScrollBarVisibility="Auto"
												  HorizontalScrollBarVisibility="Disabled"
												  Padding="10,10,10,16"
												  ClipToBounds="True">
										<ItemsControl ItemsSource="{Binding LogEntries}"
													  HorizontalAlignment="Stretch"
													  ClipToBounds="True"
													  Margin="0,0,0,25">
											<ItemsControl.ItemsPanel>
												<ItemsPanelTemplate>
													<StackPanel ClipToBounds="True"/>
												</ItemsPanelTemplate>
											</ItemsControl.ItemsPanel>
											<ItemsControl.ItemTemplate>
												<DataTemplate>
													<Border Padding="0"
															Margin="0,0,0,2"
															HorizontalAlignment="Stretch"
															ClipToBounds="True"
															MaxWidth="520">
														<TextBlock Text="{Binding FormattedMessage}"
																   Classes="log-entry"
																   Classes.INFO="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='INFO'}"
																   Classes.SUCCESS="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='SUCCESS'}"
																   Classes.ERROR="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='ERROR'}"
																   Classes.DEBUG="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='DEBUG'}"
																   TextWrapping="Wrap"
																   TextTrimming="CharacterEllipsis"
																   HorizontalAlignment="Left"
																   MaxWidth="510"/>
													</Border>
												</DataTemplate>
											</ItemsControl.ItemTemplate>
										</ItemsControl>
									</ScrollViewer>
								</Border>
							</Grid>
						</Border>

						

						<!-- DATA MANAGEMENT SECTION -->
						<TextBlock Text="Databehandling"
								   Classes="section-header"
								   Margin="0,0,0,12"/>

						<!-- Delete Local Data -->
						<Border Classes="setting-card">
							<StackPanel Spacing="5">
								<TextBlock Text="Slett lokal data" Classes="setting-title"/>
								<TextBlock Classes="setting-description">
									<Run Text="Fjern all lagret data fra denne maskinen, inkludert innloggingsopplysninger,"/>
									<LineBreak/>
									<Run Text="cookies, og innstillinger. Du mÃ¥ logge inn pÃ¥ nytt etter sletting."/>
								</TextBlock>

								<Border Classes="info-panel-compact" Margin="0,8,0,0">
									<StackPanel Spacing="6">
										<TextBlock Text="â„¹ï¸ Dette sletter:"
												   FontWeight="SemiBold"
												   FontSize="13"
												   Foreground="#007ACC"/>
										<TextBlock FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   TextWrapping="Wrap"
												   LineHeight="18">
											<Run Text="â€¢ Lagrede FEIDE-innloggingsopplysninger"/>
											<LineBreak/>
											<Run Text="â€¢ Cookies og tokens"/>
											<LineBreak/>
											<Run Text="â€¢ Alle appinnstillinger"/>
											<LineBreak/>
											<Run Text="â€¢ Cache-filer"/>
										</TextBlock>
									</StackPanel>
								</Border>

								<Button Content="Slett lokal data"
										Classes="settings-action"
										Command="{Binding DeleteLocalDataCommand}"
										IsEnabled="{Binding !IsDeleting}"
										Background="#FF9800"
										Margin="0,8,0,20"/>
							</StackPanel>
						</Border>
						<Rectangle Height="140" Fill="Transparent"/>
					</StackPanel>

					<!-- Updates Category -->
					<StackPanel x:Name="UpdatesSection" Spacing="16" IsVisible="False">
						<TextBlock Text="Programoppdateringer" Classes="section-header"/>

						<!-- Current Version -->
						<Border Classes="info-panel">
							<StackPanel Spacing="10">
								<TextBlock Text="ðŸ“¦ Gjeldende versjon"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#007ACC"/>
								<TextBlock Text="{Binding ApplicationInfo.Version, StringFormat='Versjon {0}'}"
										   FontSize="14"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
							</StackPanel>
						</Border>

						<!-- Update Status -->
						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Oppdateringsstatus" Classes="setting-title"/>

								<TextBlock Text="{Binding UpdateStatus}"
										   FontSize="14"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
										   TextWrapping="Wrap"/>

								<Button Content="Sjekk etter oppdateringer"
										Classes="settings-action"
										Command="{Binding CheckForUpdatesCommand}"
										IsEnabled="{Binding !IsCheckingForUpdates}"/>

								<!-- Update Available -->
								<StackPanel Spacing="10" IsVisible="{Binding UpdateAvailable}">
									<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
											BorderBrush="#28A745"
											BorderThickness="1.5"
											CornerRadius="8"
											Padding="14"
											Margin="0,8,0,0">
										<StackPanel Spacing="8">
											<TextBlock Text="âœ… Ny versjon tilgjengelig!"
													   FontWeight="SemiBold"
													   FontSize="14"
													   Foreground="#28A745"/>
											<TextBlock Text="{Binding AvailableVersion, StringFormat='Versjon {0} er klar'}"
													   FontSize="13"
													   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
													   TextWrapping="Wrap"/>
										</StackPanel>
									</Border>

									<Button Content="Last ned og installer oppdatering"
											Classes="settings-action"
											Command="{Binding DownloadAndInstallUpdateCommand}"
											IsEnabled="{Binding !IsCheckingForUpdates}"
											Background="#28A745"
											Margin="0,8,0,0"/>
								</StackPanel>
							</StackPanel>
						</Border>

						<!-- Info -->
						<Border Classes="info-panel">
							<StackPanel Spacing="8">
								<TextBlock Text="ðŸ’¡ Om automatiske oppdateringer"
										   FontWeight="SemiBold"
										   FontSize="14"
										   Foreground="#007ACC"/>
								<TextBlock Text="AkademiTrack sjekker automatisk etter oppdateringer ved oppstart."
										   FontSize="13"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="19"/>
							</StackPanel>
						</Border>
					</StackPanel>

					<!-- About Category -->
					<StackPanel x:Name="AboutSection" Spacing="16" IsVisible="False">
						<TextBlock Text="Om AkademiTrack" Classes="section-header"/>

						<Border Classes="info-panel">
							<StackPanel Spacing="10">
								<TextBlock Text="ðŸ“‹ Applikasjonsinformasjon"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#007ACC"/>
								
								<TextBlock Text="{Binding ApplicationInfo.NameAndDescription}"
										   FontSize="14"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
										   TextWrapping="Wrap"
										   LineHeight="22"/>

								<TextBlock Text="Hvis du vil lese privacy policy eller bruksvilkÃ¥r, besÃ¸k:"
											   Classes="setting-description"
											   VerticalAlignment="Center"
											   Margin="0,1,0,0"/>

								<Button Content="https://cybergutta.github.io/AkademietTrack/privacy-policy.html"
											Command="{Binding OpenPrivacyPolicyCommand}"
											Classes="privacypolicy-link"
											VerticalAlignment="Center"/>
											
								<Button Content="https://cybergutta.github.io/AkademietTrack/terms-of-use.html"
											Command="{Binding OpenTermsofUseCommand}"
											Classes="termsofuse-link"
											VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<Border Classes="setting-card">
							<StackPanel Spacing="10">
								<TextBlock Text="ðŸ“œ Lisens"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
								<TextBlock Text="Dette programmet er gratis og kan brukes av alle studenter ved Akademiet."
										   FontSize="13"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="20"/>
							</StackPanel>
						</Border>

						<Border Classes="setting-card" Margin="0,0,0,180">
							<StackPanel Spacing="12">
								<TextBlock Text="ðŸ“§ Kontakt oss" Classes="setting-title"/>

								<TextBlock Text="Har du spÃ¸rsmÃ¥l, tilbakemeldinger eller trenger support?"
										   Classes="setting-description"/>

								<StackPanel Spacing="8">
									<TextBlock Text="For rask support:"
											   FontSize="13"
											   FontWeight="SemiBold"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									<TextBlock Text="GÃ¥ til nettsiden vÃ¥r og deretter gÃ¥ til kontakt oss siden. Fyll ut skjemaet om du behÃ¸ver hjelp."
											   Classes="setting-description"
											   Margin="0,0,0,0"/>
								</StackPanel>

								<StackPanel Orientation="Horizontal" Spacing="5">
									<TextBlock Text="Alternativt kan du sende epost til oss:"
											   Classes="setting-description"
											   VerticalAlignment="Center"
											   Margin="0,1,0,0"/>
									<Button Content="cyberbrothershq@gmail.com"
											Command="{Binding OpenEmailCommand}"
											Classes="email-link"
											VerticalAlignment="Center"/>
								</StackPanel>

								<Button Content="BesÃ¸k nettsiden"
										Classes="settings-action"
										Command="{Binding OpenWebsiteCommand}"/>
							</StackPanel>
						</Border>
					</StackPanel>
				</StackPanel>
			</ScrollViewer>

			<!-- Footer Buttons -->
			<Border Grid.Row="1"
					Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
					BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
					BorderThickness="0,1.5,0,0"
					Padding="32,20,32,20">
				<StackPanel Orientation="Horizontal"
							HorizontalAlignment="Right"
							Spacing="12">
					<Button Content="Lukk"
							Classes="cancel"
							Command="{Binding CloseCommand}"
							IsDefault="True"/>
				</StackPanel>
			</Border>
		</Grid>
	</Grid>
</Window>