<UserControl xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AkademiTrack.ViewModels"
        xmlns:services="using:AkademiTrack.Services"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:materialIcons="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
        mc:Ignorable="d" d:DesignWidth="1100" d:DesignHeight="750"
        x:Class="AkademiTrack.Views.SettingsWindow"
        x:DataType="vm:SettingsViewModel"
        Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=WindowBackground, Mode=OneWay}">
	<Design.DataContext>
		<vm:SettingsViewModel/>
	</Design.DataContext>
	<UserControl.Styles>
		<!-- Input Field Styles -->
		<Style Selector="TextBox.credential-input">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="CaretBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14,12"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinHeight" Value="44"/>
		</Style>

		<Style Selector="TextBox.credential-input /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
		</Style>

		<Style Selector="TextBox.credential-input:pointerover /template/ Border#PART_BorderElement">
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
		</Style>

		<Style Selector="TextBox.credential-input:focus /template/ Border#PART_BorderElement">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="2"/>
		</Style>

		<!-- ComboBox Styles (modern light mode, theme-adaptive for dark mode) -->
		<Style Selector="ComboBox">
			<Setter Property="Padding" Value="16,14"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinHeight" Value="44"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox /template/ Border#Background">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="ComboBox:focus /template/ Border#Background">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="2"/>
			<Setter Property="BoxShadow" Value="0 0 0 3 #007ACC15"/>
		</Style>

		<Style Selector="ComboBox:pointerover /template/ Border#Background">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ Border#Background">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
		</Style>

		<Style Selector="ComboBox /template/ Popup > Border">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="BoxShadow" Value="0 10 25 0 #00000015, 0 4 6 0 #00000010"/>
		</Style>

		<Style Selector="ComboBox /template/ Popup ScrollViewer">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
		</Style>

		<Style Selector="ComboBoxItem">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="16,12"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinHeight" Value="40"/>
		</Style>

		<Style Selector="ComboBoxItem /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="ComboBoxItem:pointerover">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
		</Style>

		<Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBoxItem:selected">
			<Setter Property="Foreground" Value="#007ACC"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
			<Setter Property="FontWeight" Value="Medium"/>
		</Style>

		<Style Selector="ComboBoxItem:selected /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
			<Setter Property="Foreground" Value="#007ACC"/>
		</Style>

		<Style Selector="ComboBoxItem:selected:pointerover">
			<Setter Property="Foreground" Value="#007ACC"/>
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
		</Style>

		<Style Selector="ComboBoxItem:selected:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
			<Setter Property="Foreground" Value="#007ACC"/>
		</Style>

		<!-- ComboBox text color fixes to prevent disappearing text -->
		<Style Selector="ComboBox /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="ComboBox /template/ TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Force text visibility in pressed state for light mode -->
		<Style Selector="ComboBox:pressed /template/ ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Additional comprehensive pressed state fixes -->
		<Style Selector="ComboBox:pressed /template/ Button#PART_FlyoutButton TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ Button#PART_FlyoutButton ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Additional fixes for all ComboBox states -->
		<Style Selector="ComboBox:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="ComboBox:pointerover /template/ TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:focus /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="ComboBox:focus /template/ TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Ensure placeholder text is visible -->
		<Style Selector="ComboBox /template/ TextBlock#PlaceholderTextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
		</Style>

		<!-- Theme-aware pressed state fix - force text visibility in both modes -->
		<Style Selector="ComboBox:pressed">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ ContentPresenter#PART_ContentPresenter TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Override any default pressed state styling that might be hiding text -->
		<Style Selector="ComboBox:pressed /template/ Border#Background TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="ComboBox:pressed /template/ Grid TextBlock">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<!-- Password Toggle Button -->
		<Style Selector="Button.passwordToggle">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="8"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Width" Value="36"/>
			<Setter Property="Height" Value="36"/>
		</Style>

		<Style Selector="Button.passwordToggle:pointerover">
			<Setter Property="Background" Value="#F0F0F0"/>
		</Style>

		<Style Selector="Button.passwordToggle:pressed">
			<Setter Property="Background" Value="#E0E0E0"/>
		</Style>

		<!-- Category Tab Button Style -->
		<Style Selector="Button.category-tab">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="Padding" Value="16,12"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="Margin" Value="0,0,0,6"/>
		</Style>

		<Style Selector="Button.category-tab /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.category-tab:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=HoverBackground}"/>
		</Style>

		<Style Selector="Button.category-tab:pointerover">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>

		<Style Selector="Button.category-tab.selected">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<Style Selector="Button.category-tab.selected /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#007ACC"/>
		</Style>

		<Style Selector="Button.category-tab.selected:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#005A9E"/>
		</Style>

		<!-- Settings Button Style -->
		<Style Selector="Button.settings-action">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="16,10"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="HorizontalAlignment" Value="Left"/>
		</Style>

		<Style Selector="Button.settings-action /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#007ACC"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.settings-action:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#005A9E"/>
		</Style>

		<!-- Toggle Button Style -->
		<Style Selector="Button.toggle-button">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="16,10"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="HorizontalAlignment" Value="Left"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled">
			<Setter Property="Background" Value="#DC3545"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#DC3545"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.toggle-button.enabled:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#C82333"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled">
			<Setter Property="Background" Value="#28A745"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#28A745"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.toggle-button.disabled:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#218838"/>
		</Style>

		<!-- Cancel/Close Button Style -->
		<Style Selector="Button.cancel">
			<Setter Property="Background" Value="#6C757D"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="24,12"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="MinWidth" Value="110"/>
		</Style>
		<Style Selector="Button.cancel:pointerover">
			<Setter Property="Background" Value="#5A6268"/>
		</Style>

		<Style Selector="Button.cancel /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#6C757D"/>
			<Setter Property="CornerRadius" Value="8"/>
		</Style>

		<Style Selector="Button.cancel:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="#5A6268"/>
		</Style>

		<!-- Section Headers -->
		<Style Selector="TextBlock.section-header">
			<Setter Property="FontSize" Value="20"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Margin" Value="0,0,0,20"/>
		</Style>

		<!-- Setting Item Headers -->
		<Style Selector="TextBlock.setting-title">
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
			<Setter Property="Margin" Value="0,0,0,6"/>
		</Style>

		<!-- Setting Descriptions -->
		<Style Selector="TextBlock.setting-description">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
			<Setter Property="LineHeight" Value="20"/>
		</Style>

		<!-- Compact Setting Description -->
		<Style Selector="TextBlock.setting-description-compact">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="Margin" Value="0,0,0,8"/>
			<Setter Property="LineHeight" Value="18"/>
		</Style>

		<!-- Info Panel Style -->
		<Style Selector="Border.info-panel">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14"/>
		</Style>

		<!-- Compact Info Panel -->
		<Style Selector="Border.info-panel-compact">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#007ACC"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="12"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
		</Style>

		<!-- Warning Panel Style -->
		<Style Selector="Border.warning-panel">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#FF9800"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="14"/>
		</Style>

		<!-- Compact Warning Panel -->
		<Style Selector="Border.warning-panel-compact">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="#FF9800"/>
			<Setter Property="BorderThickness" Value="1.5"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="12"/>
			<Setter Property="Margin" Value="0,0,0,12"/>
		</Style>

		<!-- Setting Item Container -->
		<Style Selector="Border.setting-item">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Margin" Value="0,0,0,24"/>
		</Style>

		<!-- Compact Setting Item for Login/Automation sections -->
		<Style Selector="Border.setting-item-compact">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Margin" Value="0,0,0,18"/>
		</Style>

		<!-- Setting Card Style -->
		<Style Selector="Border.setting-card">
			<Setter Property="Background" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"/>
			<Setter Property="BorderBrush" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="10"/>
			<Setter Property="Padding" Value="16"/>
			<Setter Property="Margin" Value="0,0,0,16"/>
		</Style>

		<!-- Log Entry Styles -->
		<Style Selector="TextBlock.log-entry">
			<Setter Property="FontFamily" Value="Consolas,Monaco,monospace"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Padding" Value="6,3"/>
		</Style>
		<Style Selector="TextBlock.log-entry.INFO">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
		</Style>
		<Style Selector="TextBlock.log-entry.SUCCESS">
			<Setter Property="Foreground" Value="#28A745"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>
		<Style Selector="TextBlock.log-entry.ERROR">
			<Setter Property="Foreground" Value="#DC3545"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>
		<Style Selector="TextBlock.log-entry.DEBUG">
			<Setter Property="Foreground" Value="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"/>
			<Setter Property="FontStyle" Value="Italic"/>
		</Style>
		<Style Selector="Button.link-button">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Foreground" Value="#1E40AF" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Cursor" Value="Hand" />
		</Style>

		<Style Selector="Button.link-button:pointerover">
			<Setter Property="Foreground" Value="#1E3A8A" />
		</Style>

		<Style Selector="Button.link-button /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Foreground" Value="#0066CC" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="HorizontalAlignment" Value="Left" />
			<Setter Property="Cursor" Value="Hand" />
		</Style>

		<Style Selector="Button.link:pointerover /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.email-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.email-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.email-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.email-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>

		<Style Selector="Button.privacypolicy-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.privacypolicy-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.privacypolicy-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.privacypolicy-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>

		<Style Selector="Button.termsofuse-link">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Margin" Value="0" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Foreground" Value="#3B9EFF" />
		</Style>

		<Style Selector="Button.termsofuse-link:pointerover">
			<Setter Property="Foreground" Value="#5DB3FF" />
			<Setter Property="Background" Value="Transparent" />
		</Style>

		<Style Selector="Button.termsofuse-link /template/ ContentPresenter">
			<Setter Property="TextBlock.TextDecorations" Value="Underline" />
		</Style>

		<Style Selector="Button.termsofuse-link:pointerover /template/ ContentPresenter">
			<Setter Property="Foreground" Value="#5DB3FF" />
		</Style>		

		<!-- Icon Styles for Navigation -->
		<Style Selector="TextBlock.nav-icon">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="Margin" Value="0,0,10,0"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
		</Style>

		<Style Selector="CheckBox">
    <Setter Property="MinWidth" Value="20"/>
    <Setter Property="MinHeight" Value="20"/>
    <Setter Property="Padding" Value="8,0,0,0"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
    <Setter Property="Template">
        <ControlTemplate>
            <Grid ColumnDefinitions="Auto,*">
                <Border Grid.Column="0"
                        Name="PART_Border"
                        Width="20"
                        Height="20"
                        Background="#FFFFFF"
                        BorderBrush="#CCCCCC"
                        BorderThickness="2"
                        CornerRadius="4">
                    <Path Name="PART_Check"
                          Width="12"
                          Height="12"
                          Stretch="Uniform"
                          Fill="#FFFFFF"
                          Stroke="#FFFFFF"
                          StrokeThickness="1.5"
                          IsVisible="False"
                          Data="M0,5 L3,8 L8,0"/>
                </Border>
                <ContentPresenter Grid.Column="1"
                                  Content="{TemplateBinding Content}"
                                  Margin="{TemplateBinding Padding}"/>
            </Grid>
        </ControlTemplate>
    </Setter>
</Style>

<Style Selector="CheckBox /template/ Border#PART_Border">
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="BorderBrush" Value="#CCCCCC"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="CornerRadius" Value="3"/>
    <Setter Property="Width" Value="18"/>
    <Setter Property="Height" Value="18"/>
</Style>

<Style Selector="CheckBox:pointerover /template/ Border#PART_Border">
    <Setter Property="BorderBrush" Value="#007ACC"/>
</Style>

<Style Selector="CheckBox:checked /template/ Border#PART_Border">
    <Setter Property="Background" Value="#007ACC"/>
    <Setter Property="BorderBrush" Value="#007ACC"/>
</Style>

<Style Selector="CheckBox /template/ Path#PART_Check">
    <Setter Property="Data" Value="M 4,9 L 7,12 L 14,4"/>
    <Setter Property="Stroke" Value="White"/>
    <Setter Property="StrokeThickness" Value="2"/>
    <Setter Property="StrokeLineCap" Value="Round"/>
    <Setter Property="IsVisible" Value="False"/>
</Style>

<Style Selector="CheckBox:checked /template/ Path#PART_Check">
    <Setter Property="IsVisible" Value="True"/>
</Style>

<Style Selector="CheckBox:disabled /template/ Border#PART_Border">
    <Setter Property="Background" Value="#F5F5F5"/>
    <Setter Property="BorderBrush" Value="#E0E0E0"/>
</Style>

<Style Selector="CheckBox:disabled:checked /template/ Border#PART_Border">
    <Setter Property="Background" Value="#B0B0B0"/>
    <Setter Property="BorderBrush" Value="#B0B0B0"/>
</Style>

<Style Selector="CheckBox:disabled:checked /template/ Path#PART_Check">
    <Setter Property="IsVisible" Value="True"/>
</Style>

<Style Selector="TimePicker:disabled">
    <Setter Property="Opacity" Value="1"/>
</Style>

<Style Selector="TimePicker:disabled /template/ Button#PART_FlyoutButton">
    <Setter Property="Background" Value="#F5F5F5"/>
    <Setter Property="Foreground" Value="#999999"/>
    <Setter Property="BorderBrush" Value="#E0E0E0"/>
    <Setter Property="Opacity" Value="1"/>
</Style>

<Style Selector="TimePicker:disabled TextBlock">
    <Setter Property="Foreground" Value="#999999"/>
    <Setter Property="Opacity" Value="1"/>
</Style>

<Style Selector="TimePicker:disabled /template/ Border">
    <Setter Property="Background" Value="#F5F5F5"/>
    <Setter Property="BorderBrush" Value="#E0E0E0"/>
    <Setter Property="Opacity" Value="1"/>
</Style>

	</UserControl.Styles>



	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="240"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>



		<!-- Left Sidebar - Navigation -->
        <Border Grid.Column="0"
                Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
                BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
                BorderThickness="0,0,1.5,0"
                Padding="20,24">
            <StackPanel Spacing="4">
                <TextBlock Text="Innstillinger"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
                           Margin="8,0,0,28"/>
                
                <Button x:Name="LoginButton" Classes="category-tab selected" Tag="login">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="Key" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Innlogging" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="AutomationButton" Classes="category-tab" Tag="automation">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="LightningBolt" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Automatisering" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="SystemButton" Classes="category-tab" Tag="system">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="Monitor" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="System" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="AdvancedButton" Classes="category-tab" Tag="advanced">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="Cog" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Avansert" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="UpdatesButton" Classes="category-tab" Tag="updates">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="Refresh" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Oppdateringer" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="AboutButton" Classes="category-tab" Tag="about">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="InformationOutline" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Om" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="HelpButton" Classes="category-tab" Tag="help">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <materialIcons:MaterialIcon Kind="HelpCircleOutline" 
                                                   Width="20" 
                                                   Height="20"
                                                   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
                        <TextBlock Text="Hjelp og FAQ" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>

		<Grid Grid.Column="1" 
      Height="60" 
      VerticalAlignment="Top" 
      Margin="24,20,24,0"
      ZIndex="100">
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>
    
    <!-- Action Buttons -->
    <StackPanel Grid.Column="1" 
                Orientation="Horizontal" 
                Spacing="12" 
                VerticalAlignment="Top">


        <!-- Back to Dashboard Button -->
        <Button Classes="theme-toggle"
                Content="←"
                Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
                Command="{Binding BackToDashboardCommand}"
                Width="45"
                Height="45"
                FontSize="22"
                ToolTip.Tip="Tilbake til dashboard"
                Cursor="Hand"/>

        <!-- Theme Toggle Button -->
        <Button Classes="theme-toggle"
                Content="{Binding Source={x:Static services:ThemeManager.Instance}, Path=ThemeIcon}"
                Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=ThemeIconColor}"
                Command="{Binding ToggleThemeCommand}"
                Width="45"
                Height="45"
                FontSize="22"
                ToolTip.Tip="Toggle dark/light mode"
                Cursor="Hand"/>
    </StackPanel>
</Grid>

		<!-- Right Content Area -->
		<Grid Grid.Column="1" Margin="0,20,0,0">

			<Grid.RowDefinitions>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Content ScrollViewer -->
			<ScrollViewer Grid.Row="0"
						  VerticalScrollBarVisibility="Auto"
						  HorizontalScrollBarVisibility="Disabled"
						  Padding="24,20,24,80">
				<StackPanel Spacing="16" HorizontalAlignment="Stretch" MaxWidth="800">
					<!-- LOGIN SECTION -->
				<StackPanel x:Name="LoginSection" Spacing="12">
					<TextBlock Text="Innloggingsinformasjon" Classes="section-header" Margin="0,0,0,12"/>

					<Border Classes="warning-panel-compact">
						<StackPanel Spacing="6">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="Lock" 
														   Width="16" 
														   Height="16"
														   Foreground="#FF9800"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Sikkerhetsinformasjon"
										   FontWeight="SemiBold"
										   FontSize="13"
										   Foreground="#FF9800"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="Dine innloggingsopplysninger blir automatisk kryptert og lagret sikkert på din datamaskin."
									   FontSize="12"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   TextWrapping="Wrap"
									   LineHeight="18"/>
						</StackPanel>
					</Border>

						<!-- School Name Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Skolenavn" Classes="setting-title"/>
								<TextBlock Text="Navnet på din skole som det vises i FEIDE-organisasjonsvalget"
										   Classes="setting-description-compact"/>
								<ComboBox ItemsSource="{Binding Schools}"
										  SelectedItem="{Binding SchoolName}"
										  PlaceholderText="Velg din skole eller institusjon"
										  HorizontalAlignment="Stretch"
										  MaxDropDownHeight="280"
										  IsEditable="False"/>
							</StackPanel>
						</Border>

						<!-- Brukernavn Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Brukernavn" Classes="setting-title"/>
								<TextBlock Text="Ditt brukernavn for FEIDE-innlogging"
										   Classes="setting-description-compact"/>
								<TextBox Text="{Binding LoginEmail}"
										 Classes="credential-input"
										 Watermark="F.eks: 78abcdef"/>
							</StackPanel>
						</Border>

						<!-- Password Field -->
						<Border Classes="setting-item-compact">
							<StackPanel Spacing="8">
								<TextBlock Text="Passord" Classes="setting-title"/>
								<TextBlock Text="Ditt passord for FEIDE-innlogging"
										   Classes="setting-description-compact"/>
								<Grid>
									<TextBox Name="PasswordTextBox"
											 Text="{Binding LoginPassword}"
											 Classes="credential-input"
											 PasswordChar="•"
											 Watermark="Ditt passord"
											 Padding="14,12,48,12"/>

									<Button Name="TogglePasswordButton"
											Classes="passwordToggle"
											HorizontalAlignment="Right"
											VerticalAlignment="Center"
											Margin="0,0,8,0"
											Click="TogglePasswordVisibility"
											ToolTip.Tip="Vis/skjul passord">
										<Path Name="EyeIcon"
											  Fill="#666666"
											  Data="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
											  Stretch="Uniform"
											  Width="20"
											  Height="20"/>
									</Button>
								</Grid>
							</StackPanel>
						</Border>

						<!-- Save Login Credentials Button -->
						<Border Classes="setting-item-compact">
							<Button Content="Lagre"
									Classes="settings-action"
									Command="{Binding SaveLoginCredentialsCommand}"
									IsEnabled="{Binding HasUnsavedLoginChanges}"
									HorizontalAlignment="Right"
									Margin="0,8,0,0">
								<Button.Styles>
									<Style Selector="Button.settings-action[IsEnabled=False]">
										<Setter Property="Background" Value="#C7C7CC"/>
										<Setter Property="Foreground" Value="#8E8E93"/>
									</Style>
									<Style Selector="Button.settings-action[IsEnabled=False] /template/ ContentPresenter#PART_ContentPresenter">
										<Setter Property="Background" Value="#C7C7CC"/>
									</Style>
								</Button.Styles>
							</Button>
						</Border>
					</StackPanel>

					<!-- Automation Category -->
					<StackPanel x:Name="AutomationSection" Spacing="12" IsVisible="False">
						<TextBlock Text="Automatisering" Classes="section-header" Margin="0,0,0,12"/>

						<!-- Auto-start toggle -->
						<Border Classes="setting-card">
							<StackPanel Spacing="12">
								<TextBlock Text="Start automatisering ved oppstart" Classes="setting-title"/>
								<TextBlock Classes="setting-description">
									<Run Text="Automatiseringen starter automatisk når programmet åpnes."/>
									<LineBreak/>
									<Run Text="Perfekt for å aldri glemme å registrere STU-timer."/>
								</TextBlock>
								<Button Content="{Binding AutoStartAutomation, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
										Classes="toggle-button"
										Classes.enabled="{Binding AutoStartAutomation}"
										Classes.disabled="{Binding !AutoStartAutomation}"
										Command="{Binding ToggleAutoStartAutomationCommand}"/>
							</StackPanel>
						</Border>

						<!-- School Hours Configuration -->
						<TextBlock Text="Skoletider" 
								   FontSize="18"
								   FontWeight="SemiBold"
								   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
								   Margin="0,8,0,12"/>

						<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
								BorderBrush="#007ACC"
								BorderThickness="1.5"
								CornerRadius="8"
								Padding="14"
								Margin="0,0,0,12">
							<StackPanel Spacing="7">
								<StackPanel Orientation="Horizontal" Spacing="8">
									<materialIcons:MaterialIcon Kind="InformationOutline" 
															   Width="16" 
															   Height="16"
															   Foreground="#007ACC"
															   VerticalAlignment="Center"/>
									<TextBlock Text="Tilpass skoletider"
											   FontWeight="SemiBold"
											   FontSize="14"
											   Foreground="#007ACC"
											   VerticalAlignment="Center"/>
								</StackPanel>
								<TextBlock FontSize="13"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
										   TextWrapping="Wrap"
										   LineHeight="19"
										   MaxWidth="750">
									<Run Text="Sett når automatiseringen skal starte automatisk og ikke kunne starte automatisk for hver dag."/>
									<LineBreak/>
									<Run Text="Deaktiver dager når du ikke har skole."/>
								</TextBlock>
							</StackPanel>
						</Border>

						<!-- Days of the week -->
						<StackPanel Spacing="8">
							<!-- Monday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding MondayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Mandag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding MondayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding MondayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding MondayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Tuesday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding TuesdayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Tirsdag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding TuesdayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding TuesdayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding TuesdayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Wednesday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding WednesdayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Onsdag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding WednesdayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding WednesdayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding WednesdayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Thursday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding ThursdayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Torsdag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding ThursdayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding ThursdayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding ThursdayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Friday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding FridayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Fredag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding FridayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding FridayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding FridayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Saturday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding SaturdayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Lørdag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding SaturdayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding SaturdayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding SaturdayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>

							<!-- Sunday -->
							<Border Classes="setting-card" Margin="0">
								<StackPanel Spacing="8">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<CheckBox Grid.Column="0" 
												  IsChecked="{Binding SundayEnabled}"
												  VerticalAlignment="Center"
												  Margin="0,0,12,0"/>
										<TextBlock Grid.Column="1" 
												   Text="Søndag" 
												   FontWeight="SemiBold"
												   FontSize="14"
												   VerticalAlignment="Center"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									</Grid>
									<Grid ColumnDefinitions="*,40,*" RowDefinitions="Auto,Auto" IsEnabled="{Binding SundayEnabled}">
										<!-- Labels Row -->
										<TextBlock Grid.Column="0" Grid.Row="0" Text="Start" FontSize="12" 
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										<TextBlock Grid.Column="2" Grid.Row="0" Text="Slutt" FontSize="12"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   Margin="0,0,0,4" HorizontalAlignment="Center"/>
										
										<!-- TimePickers and Line Row -->
										<TimePicker Grid.Column="0" Grid.Row="1" SelectedTime="{Binding SundayStart}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
										<Rectangle Grid.Column="1" Grid.Row="1"
												   Width="20" 
												   Height="2"
												   Fill="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
												   VerticalAlignment="Center" 
												   HorizontalAlignment="Center"/>
										<TimePicker Grid.Column="2" Grid.Row="1" SelectedTime="{Binding SundayEnd}" 
													MinuteIncrement="5"
													ClockIdentifier="24HourClock"
													HorizontalAlignment="Center"/>
									</Grid>
								</StackPanel>
							</Border>
						</StackPanel>

						<!-- Reset to defaults button -->
						<Button Content="Tilbakestill til standard"
								Classes="settings-action"
								Command="{Binding ResetSchoolHoursCommand}"
								Margin="5,12,0,0"
								Background="#6C757D"/>

						<Rectangle Height="160" Fill="Transparent"/>
					</StackPanel>

					<!-- System Category -->
					<StackPanel x:Name="SystemSection" Spacing="16" IsVisible="False">
					<TextBlock Text="Systemintegrasjon" Classes="section-header"/>

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Åpne appen automatisk ved oppstart" Classes="setting-title"/>
							<TextBlock Text="Automatisk start av AkademiTrack når datamaskinen starter opp."
									   Classes="setting-description"/>
							<Button Content="{Binding StartWithSystem, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
									Classes="toggle-button"
									Classes.enabled="{Binding StartWithSystem}"
									Classes.disabled="{Binding !StartWithSystem}"
									Command="{Binding ToggleAutoStartCommand}"/>
						</StackPanel>
					</Border>

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Start minimert til systemstatusfeltet" Classes="setting-title"/>
							<TextBlock Classes="setting-description">
								<Run Text="Start applikasjonen minimert i systemstatusfeltet når datamaskinen starter."/>
								<LineBreak/>
								<Run Text="Krever at 'Åpne appen automatisk ved oppstart' er aktivert."/>
							</TextBlock>
							<Button Content="{Binding StartMinimized, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
									Classes="toggle-button"
									Classes.enabled="{Binding StartMinimized}"
									Classes.disabled="{Binding !StartMinimized}"
									Command="{Binding ToggleStartMinimizedCommand}"
									IsEnabled="{Binding StartWithSystem}"/>
						</StackPanel>
					</Border>

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Skrivebordsvarsler" Classes="setting-title"/>
							<TextBlock Classes="setting-description">
								<Run Text="Aktiver eller deaktiver systemvarsler fra AkademiTrack."/>
								<LineBreak/>
								<Run Text="Når aktivert vil programmet vise viktige meldinger som skrivebordsvarsler."/>
							</TextBlock>

							<Border Classes="info-panel-compact" Margin="0,0,0,8">
								<StackPanel Spacing="6">
									<StackPanel Orientation="Horizontal" Spacing="8">
										<materialIcons:MaterialIcon Kind="Lightbulb" 
																   Width="16" 
																   Height="16"
																   Foreground="#007ACC"
																   VerticalAlignment="Center"/>
										<TextBlock Text="Mottar du ikke varsler?"
												   FontWeight="SemiBold"
												   FontSize="13"
												   Foreground="#007ACC"
												   VerticalAlignment="Center"/>
									</StackPanel>
									<TextBlock FontSize="12"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
											   TextWrapping="Wrap"
											   LineHeight="18">
										<Run Text="Hvis du ikke mottar varsler selv når denne innstillingen er på:"/>
										<LineBreak/>
										<Run Text="• Windows: Gå til Innstillinger → System → Varslinger → AkademiTrack"/>
										<LineBreak/>
										<Run Text="• macOS: Gå til Systeminnstillinger → Varslinger → AkademiTrack"/>
										<LineBreak/>
										<Run Text="• Linux: Sjekk systemets varslingsinnstillinger"/>
									</TextBlock>
								</StackPanel>
							</Border>

							<Button Content="{Binding EnableNotifications, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Aktiver|Deaktiver'}"
									Classes="toggle-button"
									Classes.enabled="{Binding EnableNotifications}"
									Classes.disabled="{Binding !EnableNotifications}"
									Command="{Binding ToggleNotificationsCommand}"/>
						</StackPanel>
					</Border>

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Ressursbruk" Classes="setting-title"/>
							<TextBlock Text="Sanntidsovervåking av CPU- og minnebruk for AkademiTrack."
									   Classes="setting-description"/>

							<!-- Resource Usage Display -->
							<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" Margin="0,8,0,0">
								<!-- CPU Usage -->
								<Border Grid.Column="0" Grid.Row="0"
										Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
										BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
										BorderThickness="1"
										CornerRadius="8"
										Padding="16"
										Margin="0,0,6,12">
									<StackPanel Spacing="8">
										<StackPanel Orientation="Horizontal" Spacing="8">
											<materialIcons:MaterialIcon Kind="Monitor" 
																	   Width="16" 
																	   Height="16"
																	   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
																	   VerticalAlignment="Center"/>
											<TextBlock Text="CPU"
													   FontSize="13"
													   FontWeight="SemiBold"
													   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
													   VerticalAlignment="Center"/>
										</StackPanel>

										<TextBlock FontSize="28"
												   FontWeight="Bold"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}">
											<Run Text="{Binding Source={x:Static services:ResourceMonitor.Instance}, Path=CpuUsage, Mode=OneWay}"/>
											<Run Text="%" FontSize="18"/>
										</TextBlock>

										<ProgressBar Value="{Binding Source={x:Static services:ResourceMonitor.Instance}, Path=CpuUsage, Mode=OneWay}"
													 Minimum="0"
													 Maximum="100"
													 Height="6"
													 CornerRadius="3"
													 Foreground="#007ACC"
													 Background="#E0E0E0"/>
									</StackPanel>
								</Border>

								<!-- Memory Usage -->
								<Border Grid.Column="1" Grid.Row="0"
										Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
										BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
										BorderThickness="1"
										CornerRadius="8"
										Padding="16"
										Margin="6,0,0,12">
									<StackPanel Spacing="8">
										<StackPanel Orientation="Horizontal" Spacing="8">
											<materialIcons:MaterialIcon Kind="Memory" 
																	   Width="16" 
																	   Height="16"
																	   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
																	   VerticalAlignment="Center"/>
											<TextBlock Text="Minne"
													   FontSize="13"
													   FontWeight="SemiBold"
													   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
													   VerticalAlignment="Center"/>
										</StackPanel>

										<TextBlock FontSize="28"
												   FontWeight="Bold"
												   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}">
											<Run Text="{Binding Source={x:Static services:ResourceMonitor.Instance}, Path=MemoryUsageMB, Mode=OneWay}"/>
											<Run Text="MB" FontSize="14"/>
										</TextBlock>

										<ProgressBar Value="{Binding Source={x:Static services:ResourceMonitor.Instance}, Path=MemoryPercentage, Mode=OneWay}"
													 Minimum="0"
													 Maximum="100"
													 Height="6"
													 CornerRadius="3"
													 Foreground="#28A745"
													 Background="#E0E0E0"/>
									</StackPanel>
								</Border>

								<!-- Uptime -->
								<Border Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2"
										Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
										BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
										BorderThickness="1"
										CornerRadius="8"
										Padding="16">
									<Grid ColumnDefinitions="Auto,*">
										<StackPanel Grid.Column="0" Spacing="4">
											<StackPanel Orientation="Horizontal" Spacing="8">
												<materialIcons:MaterialIcon Kind="ClockOutline" 
																		   Width="16" 
																		   Height="16"
																		   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
																		   VerticalAlignment="Center"/>
												<TextBlock Text="Oppetid"
														   FontSize="13"
														   FontWeight="SemiBold"
														   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
														   VerticalAlignment="Center"/>
											</StackPanel>
											<TextBlock Text="{Binding Source={x:Static services:ResourceMonitor.Instance}, Path=UptimeFormatted, Mode=OneWay}"
													   FontSize="20"
													   FontWeight="Bold"
													   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
										</StackPanel>

										<StackPanel Grid.Column="1" 
													VerticalAlignment="Center"
													HorizontalAlignment="Right"
													Spacing="2">
											<TextBlock Text="Oppdateres hvert 2. sekund"
													   FontSize="11"
													   FontStyle="Italic"
													   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
													   HorizontalAlignment="Right"/>
										</StackPanel>
									</Grid>
								</Border>
							</Grid>

							<!-- Info Panel -->
							<Border Classes="info-panel-compact" Margin="0,8,0,0">
								<StackPanel Spacing="6">
									<StackPanel Orientation="Horizontal" Spacing="8">
										<materialIcons:MaterialIcon Kind="Lightbulb" 
																   Width="16" 
																   Height="16"
																   Foreground="#007ACC"
																   VerticalAlignment="Center"/>
										<TextBlock Text="Om ressursbruk"
												   FontWeight="SemiBold"
												   FontSize="13"
												   Foreground="#007ACC"
												   VerticalAlignment="Center"/>
									</StackPanel>
									<TextBlock FontSize="12"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
											   TextWrapping="Wrap"
											   LineHeight="18">
										<Run Text="AkademiTrack er designet for å bruke minimale ressurser i bakgrunnen."/>
										<LineBreak/>
										<Run Text="Normal bruk ligger typisk på 1% CPU og 100-400 MB RAM."/>
									</TextBlock>
								</StackPanel>
							</Border>
						</StackPanel>
					</Border>

					<Rectangle Height="120" Fill="Transparent"/>
				</StackPanel>



					<!-- Advanced Category -->
					<StackPanel x:Name="AdvancedSection" Spacing="16" IsVisible="False">
					<TextBlock Text="Avanserte innstillinger" Classes="section-header"/>


					<!-- Activity Log Toggle -->
					
					<!--
					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Aktivitetslogg" Classes="setting-title"/>
							<TextBlock Text="Vis teknisk aktivitetslogg for feilsøking og diagnostikk."
									   Classes="setting-description"/>
							<Button Content="{Binding ShowActivityLog, Converter={x:Static vm:BoolToStringConverter.Instance}, ConverterParameter='Vis logg|Skjul logg'}"
									Classes="settings-action"
									Command="{Binding ToggleActivityLogCommand}"/>
						</StackPanel>
					</Border> 
					
					-->

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="Aktivitetslogg" Classes="setting-title"/>
							<TextBlock Text="Eksporter teknisk aktivitetslogg for feilsøking og diagnostikk."
									   Classes="setting-description"/>
							<Button Content="Eksporter logg"
									Classes="settings-action"
									Command="{Binding ExportLogsCommand}"
									Background="#28A745"/>
						</StackPanel>
					</Border>

					<!-- Activity Log Panel -->
						<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
								BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
								BorderThickness="1"
								CornerRadius="10"
								Padding="20"
								IsVisible="{Binding ShowActivityLog}">
							<Grid>
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto"/>
									<RowDefinition Height="Auto"/>
								</Grid.RowDefinitions>

								<Grid Grid.Row="0" Margin="0,0,0,16">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="*"/>
										<ColumnDefinition Width="Auto"/>
										<ColumnDefinition Width="Auto"/>
									</Grid.ColumnDefinitions>
									<TextBlock Grid.Column="0"
											   Text="Aktivitetslogg"
											   FontWeight="SemiBold"
											   FontSize="16"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
									<Button Grid.Column="1"
											Content="Eksporter"
											Classes="settings-action"
											Command="{Binding ExportLogsCommand}"
											Padding="14,10"
											MinWidth="100"
											Background="#28A745"
											Margin="0,0,8,0"
											ToolTip.Tip="Eksporter logger til fil eller utklippstavle"/>
									<Button Grid.Column="2"
											Content="Tøm logg"
											Classes="settings-action"
											Command="{Binding ClearLogsCommand}"
											Padding="14,10"
											MinWidth="100"
											Background="#DC3545"/>
								</Grid>

								<!-- Remove the export buttons row completely -->

								<Border Grid.Row="1"
									Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
									BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
									BorderThickness="1"
									CornerRadius="8"
									Height="250"
									ClipToBounds="True">
									<ScrollViewer VerticalScrollBarVisibility="Auto"
												  HorizontalScrollBarVisibility="Disabled"
												  Padding="10,10,10,16"
												  ClipToBounds="True">
										<ItemsControl ItemsSource="{Binding LogEntries}"
													  HorizontalAlignment="Stretch"
													  ClipToBounds="True"
													  Margin="0,0,0,25">
											<ItemsControl.ItemsPanel>
												<ItemsPanelTemplate>
													<StackPanel ClipToBounds="True"/>
												</ItemsPanelTemplate>
											</ItemsControl.ItemsPanel>
											<ItemsControl.ItemTemplate>
												<DataTemplate>
													<Border Padding="0"
															Margin="0,0,0,2"
															HorizontalAlignment="Stretch"
															ClipToBounds="True"
															MaxWidth="520">
														<TextBlock Text="{Binding FormattedMessage}"
																   Classes="log-entry"
																   Classes.INFO="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='INFO'}"
																   Classes.SUCCESS="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='SUCCESS'}"
																   Classes.ERROR="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='ERROR'}"
																   Classes.DEBUG="{Binding Level, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter='DEBUG'}"
																   TextWrapping="Wrap"
																   TextTrimming="CharacterEllipsis"
																   HorizontalAlignment="Left"
																   MaxWidth="510"/>
													</Border>
												</DataTemplate>
											</ItemsControl.ItemTemplate>
										</ItemsControl>
									</ScrollViewer>
								</Border>
							</Grid>
						</Border>

					<!-- DATA MANAGEMENT SECTION -->
					<TextBlock Text="Databehandling"
							   Classes="section-header"
							   Margin="0,0,0,12"/>

					<!-- Delete Local Data -->
					<Border Classes="setting-card">
						<StackPanel Spacing="5">
							<TextBlock Text="Slett lokal data" Classes="setting-title"/>
							<TextBlock Classes="setting-description">
								<Run Text="Fjern all lagret data fra denne maskinen og lukk applikasjonen."/>
								<LineBreak/>
								<Run Text="Appen starter IKKE på nytt - du må åpne den manuelt hvis ønskelig."/>
							</TextBlock>

							<Border Classes="info-panel-compact" Margin="0,8,0,0">
								<StackPanel Spacing="6">
									<StackPanel Orientation="Horizontal" Spacing="8">
										<materialIcons:MaterialIcon Kind="InformationOutline" 
																   Width="16" 
																   Height="16"
																   Foreground="#007ACC"
																   VerticalAlignment="Center"/>
										<TextBlock Text="Dette sletter ALL lokal data:"
												   FontWeight="SemiBold"
												   FontSize="13"
												   Foreground="#007ACC"
												   VerticalAlignment="Center"/>
									</StackPanel>
									<TextBlock FontSize="12"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
											   TextWrapping="Wrap"
											   LineHeight="18">
										<Run Text="• Lagrede FEIDE-innloggingsopplysninger"/>
										<LineBreak/>
										<Run Text="• Cookies og tokens"/>
										<LineBreak/>
										<Run Text="• Alle appinnstillinger"/>
										<LineBreak/>
										<Run Text="• Cache-filer"/>
										<LineBreak/>
										<Run Text="• Skoletimer og automatiseringsinnstillinger"/>
									</TextBlock>
								</StackPanel>
							</Border>

							<Border Classes="warning-panel-compact" Margin="0,8,0,0">
								<StackPanel Spacing="6">
									<StackPanel Orientation="Horizontal" Spacing="8">
										<materialIcons:MaterialIcon Kind="AlertOutline" 
																   Width="16" 
																   Height="16"
																   Foreground="#FF6B35"
																   VerticalAlignment="Center"/>
										<TextBlock Text="Viktig å vite:"
												   FontWeight="SemiBold"
												   FontSize="13"
												   Foreground="#FF6B35"
												   VerticalAlignment="Center"/>
									</StackPanel>
									<TextBlock FontSize="12"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
											   TextWrapping="Wrap"
											   LineHeight="18">
										<Run Text="• Applikasjonen lukkes permanent etter sletting"/>
										<LineBreak/>
										<Run Text="• Du må åpne AkademiTrack manuelt hvis du vil bruke den igjen"/>
										<LineBreak/>
										<Run Text="• All data må settes opp på nytt"/>
									</TextBlock>
								</StackPanel>
							</Border>

							<Button Content="Slett lokal data og lukk app"
									Classes="settings-action"
									Command="{Binding DeleteLocalDataCommand}"
									IsEnabled="{Binding !IsDeleting}"
									Background="#FF9800"
									Margin="0,8,0,20"/>

									
						</StackPanel>
					</Border>

					<TextBlock Text="Systemdiagnose"
							   Classes="section-header"
							   Margin="0,0,0,12"/>

					<Border Classes="setting-card">
						<StackPanel Spacing="12">
							<TextBlock Text="AkademiTrack-diagnose" Classes="setting-title"/>
							<TextBlock Classes="setting-description">
								<Run Text="Sjekker internettilkobling, Feide-innlogging og AkademiTrack-funksjonalitet."/>
							</TextBlock>

							<!-- Running indicator -->
							<StackPanel Orientation="Horizontal" 
										Spacing="10"
										IsVisible="{Binding IsRunningDiagnostics}">
								<materialIcons:MaterialIcon Kind="ProgressClock" 
														   Width="16" 
														   Height="16"
														   Foreground="#007ACC"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Kjører systemdiagnose..."
										   FontSize="13"
										   FontWeight="SemiBold"
										   Foreground="#007ACC"
										   VerticalAlignment="Center"/>
							</StackPanel>

							<Button Content="Kjør diagnose"
									Classes="settings-action"
									Command="{Binding RunDiagnosticsCommand}"
									IsEnabled="{Binding !IsRunningDiagnostics}"
									Background="#007ACC"
									Margin="0,0,0,0"/>

							<!-- Results Section -->
							<StackPanel Spacing="12" IsVisible="{Binding DiagnosticsCompleted}">
								<StackPanel Orientation="Horizontal" Spacing="8">
									<materialIcons:MaterialIcon Kind="ChartBox" 
															   Width="18" 
															   Height="18"
															   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
															   VerticalAlignment="Center"/>
									<TextBlock Text="Diagnoseresultater"
											   FontWeight="SemiBold"
											   FontSize="15"
											   Margin="0,8,0,0"
											   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
											   VerticalAlignment="Center"/>
								</StackPanel>

								<!-- Results List -->
								<ItemsControl ItemsSource="{Binding HealthCheckResults}">
									<ItemsControl.ItemTemplate>
										<DataTemplate>
											<Border Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=InputBackground}"
													BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
													BorderThickness="1"
													CornerRadius="6"
													Padding="14"
													Margin="0,0,0,10">
												<StackPanel Spacing="8">
													<!-- Component and Message -->
													<Grid ColumnDefinitions="*,Auto">
														<TextBlock Grid.Column="0"
																   FontWeight="SemiBold"
																   FontSize="14"
																   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}">
															<Run Text="{Binding ComponentName}"/>
														</TextBlock>
														<TextBlock Grid.Column="1"
																   Text="{Binding Message}"
																   FontSize="13"
																   FontWeight="Medium"
																   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
													</Grid>

													<!-- Response Time -->
													<StackPanel Orientation="Horizontal" Spacing="6">
														<materialIcons:MaterialIcon Kind="ClockOutline" 
																				   Width="14" 
																				   Height="14"
																				   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
																				   VerticalAlignment="Center"/>
														<TextBlock FontSize="12"
																   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
																   VerticalAlignment="Center">
															<Run Text="Responstid:"/>
															<Run Text="{Binding ResponseTimeMs}"/>
															<Run Text="ms"/>
														</TextBlock>
													</StackPanel>

													<!-- Details -->
													<TextBlock Text="{Binding Details}"
															   FontSize="12"
															   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
															   TextWrapping="Wrap"/>
												</StackPanel>
											</Border>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</StackPanel>
						</StackPanel>
					</Border>

					<Rectangle Height="140" Fill="Transparent"/>
				</StackPanel>

					<!-- Updates Category -->
					<StackPanel x:Name="UpdatesSection" Spacing="16" IsVisible="False">
					<TextBlock Text="Programoppdateringer" Classes="section-header"/>

					<!-- Message Box -->
					<Border Classes="info-panel">
						<StackPanel Spacing="8">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="Information" 
														   Width="16" 
														   Height="16"
														   Foreground="#FFA500"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Viktig informasjon"
										   FontWeight="SemiBold"
										   FontSize="14"
										   Foreground="#FFA500"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="Vi har fjernet denne funksjonen på grunn av kompatibilitetsproblemer. Vi vil senere prøve å legge noe sånt tilbake eller legge appen på app store så vær forberedt på å slette appen manuelt når vi sier ifra!"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   TextWrapping="Wrap"
									   LineHeight="19"/>
						</StackPanel>
					</Border>
				</StackPanel>

					<!-- About Category -->
					<StackPanel x:Name="AboutSection" Spacing="16" IsVisible="False">
					<TextBlock Text="Om AkademiTrack" Classes="section-header"/>

					<Border Classes="info-panel">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="ClipboardText" 
														   Width="18" 
														   Height="18"
														   Foreground="#007ACC"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Applikasjonsinformasjon"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#007ACC"
										   VerticalAlignment="Center"/>
							</StackPanel>
            
							<TextBlock Text="{Binding ApplicationInfo.NameAndDescription}"
									   FontSize="14"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
									   TextWrapping="Wrap"
									   LineHeight="22"/>
						</StackPanel>
					</Border>

					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="FileDocument" 
														   Width="18" 
														   Height="18"
														   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Lisens"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="Dette programmet er gratis og kan brukes av alle studenter ved Akademiet."
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   TextWrapping="Wrap"
									   LineHeight="20"/>
						</StackPanel>
					</Border>

					<Border Classes="setting-card" Margin="0,0,0,180">
						<StackPanel Spacing="12">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="Email" 
														   Width="18" 
														   Height="18"
														   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Kontakt oss" 
										   Classes="setting-title"
										   VerticalAlignment="Center"/>
							</StackPanel>

							<TextBlock Text="Har du spørsmål, tilbakemeldinger eller trenger support?"
									   Classes="setting-description"/>

							<StackPanel Spacing="8">
								<TextBlock Text="For rask support:"
										   FontSize="13"
										   FontWeight="SemiBold"
										   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextPrimary}"/>
								<TextBlock Text="Gå til nettsiden vår og deretter gå til kontakt oss siden. Fyll ut skjemaet om du behøver hjelp."
										   Classes="setting-description"
										   Margin="0,0,0,0"/>
							</StackPanel>

							<StackPanel Orientation="Horizontal" Spacing="5">
								<TextBlock Text="Alternativt kan du sende epost til oss:"
										   Classes="setting-description"
										   VerticalAlignment="Center"
										   Margin="0,1,0,0"/>
								<Button Content="cyberbrothershq@gmail.com"
										Command="{Binding OpenEmailCommand}"
										Classes="email-link"
										VerticalAlignment="Center"/>
							</StackPanel>

							<Button Content="Besøk nettsiden"
									Classes="settings-action"
									Command="{Binding OpenWebsiteCommand}"/>
						</StackPanel>
					</Border>
				</StackPanel>

					<StackPanel x:Name="HelpSection" Spacing="16" IsVisible="False">
					<TextBlock Text="Hjelp og Feilsøking" Classes="section-header"/>

					<Border Classes="info-panel">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="BookOpenPageVariant" 
														   Width="18" 
														   Height="18"
														   Foreground="#007ACC"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Vanlige spørsmål"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#007ACC"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock Text="Her finner du svar på vanlige problemer og spørsmål om AkademiTrack."
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   TextWrapping="Wrap"
									   LineHeight="19"/>
						</StackPanel>
					</Border>

					<!-- FAQ Item 1: Network Error -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="CloseCircle" 
														   Width="18" 
														   Height="18"
														   Foreground="#DC3545"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Registrering feiler med nettverksfeil"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#DC3545"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Løsning:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Sjekk internettforbindelsen din"/>
								<LineBreak/>
								<Run Text="• Kjør diagnose i Avansert → Systemdiagnose"/>
								<LineBreak/>
								<Run Text="• Kontroller at FEIDE-systemet er tilgjengelig"/>
								<LineBreak/>
								<Run Text="• Sjekk om brannmuren blokkerer programmet"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 2: Window Closed -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="WindowClose" 
														   Width="18" 
														   Height="18"
														   Foreground="#DC3545"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Registreringsvindu lukket uventet"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#DC3545"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Løsning:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Ikke lukk nettleservinduet under registrering"/>
								<LineBreak/>
								<Run Text="• Vent til du ser suksessmelding"/>
								<LineBreak/>
								<Run Text="• Hvis det skjer automatisk, sjekk aktivitetsloggen"/>
								<LineBreak/>
								<Run Text="• Kontroller at systemet ikke går i dvale"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 3: Invalid Credentials -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="LockAlert" 
														   Width="18" 
														   Height="18"
														   Foreground="#DC3545"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Ugyldige innloggingsopplysninger"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#DC3545"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Løsning:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Gå til Innlogging og sjekk opplysningene dine"/>
								<LineBreak/>
								<Run Text="• Verifiser at skolenavn er riktig (f.eks. 'Akademiet Drammen AS')"/>
								<LineBreak/>
								<Run Text="• Prøv å logge inn manuelt på FEIDE for å teste"/>
								<LineBreak/>
								<Run Text="• Sjekk om du har endret passord nylig"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 4: Timeout -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="TimerSand" 
														   Width="18" 
														   Height="18"
														   Foreground="#FF9800"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Tidsavbrudd under registrering"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#FF9800"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Løsning:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Sakte internettforbindelse kan forårsake dette"/>
								<LineBreak/>
								<Run Text="• FEIDE-serveren kan være treg eller overbelastet"/>
								<LineBreak/>
								<Run Text="• Prøv å registrere manuelt hvis problemet vedvarer"/>
								<LineBreak/>
								<Run Text="• Vent noen minutter og la programmet prøve igjen"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 5: Outside School Hours -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="SkipNext" 
														   Width="18" 
														   Height="18"
														   Foreground="#6C757D"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Registrering hoppes over (utenfor skoletid)"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#6C757D"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Dette er normalt!" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="Programmet registrerer bare fremmøte i skoletiden du har satt."/>
								<LineBreak/>
								<Run Text="Gå til Automatisering → Skoletider for å justere tidene."/>
								<LineBreak/>
								<Run Text="På helger og deaktiverte dager hoppes registrering automatisk over."/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 6: Wrong Network -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="WifiAlert" 
														   Width="18" 
														   Height="18"
														   Foreground="#FF9800"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Koblet til feil nettverk"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#FF9800"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Viktig!" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="Registrering kan feile hvis du ikke er koblet til skolens WiFi."/>
								<LineBreak/>
								<LineBreak/>
								<Run Text="• Sørg for at du er på riktig nettverk (f.eks. 'Akademiet-WiFi')"/>
								<LineBreak/>
								<Run Text="• Noen systemer krever skolens fysiske nettverk"/>
								<LineBreak/>
								<Run Text="• Mobildata eller hjemme-WiFi fungerer ofte ikke"/>
								<LineBreak/>
								<Run Text="• Sjekk nettverkstilkobling i systeminnstillingene"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 7: Mac Sleep Mode -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="Sleep" 
														   Width="18" 
														   Height="18"
														   Foreground="#DC3545"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Mac i dvalemodus (lokk lukket)"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#DC3545"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Registrering fungerer ikke hvis:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• MacBook-lokket er lukket og maskinen går i dvale"/>
								<LineBreak/>
								<Run Text="• Datamaskinen går i hvilemodus automatisk"/>
								<LineBreak/>
								<Run Text="• Skjermen er låst og systemet suspenderer prosesser"/>
								<LineBreak/>
								<LineBreak/>
								<Run Text="Løsning:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Hold Mac-en åpen og våken under skoletid"/>
								<LineBreak/>
								<Run Text="• Juster energiinnstillinger: Systeminnstillinger → Batteri"/>
								<LineBreak/>
								<Run Text="• Aktiver 'Forhindre dvale når skjermen er av'"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- FAQ Item 8: PC Off -->
					<Border Classes="setting-card">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="PowerOff" 
														   Width="18" 
														   Height="18"
														   Foreground="#DC3545"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Datamaskinen er slått av eller frakoblet"
										   FontWeight="SemiBold"
										   FontSize="15"
										   Foreground="#DC3545"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="13"
									   Foreground="{Binding Source={x:Static services:ThemeManager.Instance}, Path=TextSecondary}"
									   LineHeight="20">
								<Run Text="Åpenbart, men viktig:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Programmet kan ikke registrere hvis PC-en er av"/>
								<LineBreak/>
								<Run Text="• Internettforbindelse må være aktiv"/>
								<LineBreak/>
								<Run Text="• Programmet må kjøre i bakgrunnen"/>
								<LineBreak/>
								<LineBreak/>
								<Run Text="Sørg for at:" FontWeight="SemiBold"/>
								<LineBreak/>
								<Run Text="• Datamaskinen er på i skoletiden"/>
								<LineBreak/>
								<Run Text="• AkademiTrack kjører (sjekk systemstatusfeltet)"/>
								<LineBreak/>
								<Run Text="• 'Start automatisering ved oppstart' er aktivert"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<!-- General Tips -->
					<Border Background="#E3F2FD"
							BorderBrush="#007ACC"
							BorderThickness="1.5"
							CornerRadius="10"
							Padding="18"
							Margin="0,8,0,0">
						<StackPanel Spacing="10">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<materialIcons:MaterialIcon Kind="Lightbulb" 
														   Width="20" 
														   Height="20"
														   Foreground="#007ACC"
														   VerticalAlignment="Center"/>
								<TextBlock Text="Generelle tips for feilsøking"
										   FontWeight="Bold"
										   FontSize="16"
										   Foreground="#007ACC"
										   VerticalAlignment="Center"/>
							</StackPanel>
							<TextBlock TextWrapping="Wrap"
									   FontSize="14"
									   Foreground="#1565C0"
									   LineHeight="22">
								<Run Text="1. Sjekk aktivitetsloggen (Avansert) for detaljerte feilmeldinger" FontWeight="Medium"/>
								<LineBreak/>
								<Run Text="2. Kjør systemdiagnose (Avansert) for å teste komponenter" FontWeight="Medium"/>
								<LineBreak/>
								<Run Text="3. Verifiser at du er på skolens WiFi-nettverk" FontWeight="Medium"/>
								<LineBreak/>
								<Run Text="4. Hold datamaskinen våken og tilkoblet i skoletiden" FontWeight="Medium"/>
								<LineBreak/>
								<Run Text="5. Sjekk at innloggingsopplysninger er korrekte" FontWeight="Medium"/>
								<LineBreak/>
								<Run Text="6. Kontakt oss hvis problemet vedvarer" FontWeight="Medium"/>
							</TextBlock>
						</StackPanel>
					</Border>

					<Rectangle Height="140" Fill="Transparent"/>
				</StackPanel>
				</StackPanel>
			</ScrollViewer>

			<!-- Footer Buttons -->
			<Border Grid.Row="1"
        Background="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBackground}"
        BorderBrush="{Binding Source={x:Static services:ThemeManager.Instance}, Path=CardBorder}"
        BorderThickness="0,1.5,0,0"
        Padding="32,20,32,20">
    
</Border>
		</Grid>
	</Grid>
</UserControl>